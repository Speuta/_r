<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>_r</title>
</head>
<body>

<script src="../../node_modules/babylonjs/babylon.js"></script>
<script src="https://preview.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
<script src="../../dist/_r.js"></script>
<script>
    _r.TRACE = true;
    /**
        _r.launch("https://models.babylonjs.com/CornellBox/cornellBox.babylon");
     **/

    _r.launch({
        scene :
            function() {
                // This creates a basic Babylon Scene object (non-mesh)
                var scene = new BABYLON.Scene(engine);

                // This creates and positions a free camera (non-mesh)
                var camera = new BABYLON.FreeCamera("camera1", new BABYLON.Vector3(0, 5, -10), scene);

                // This targets the camera to scene origin
                camera.setTarget(BABYLON.Vector3.Zero());

                // This attaches the camera to the canvas
                camera.attachControl(canvas, false);

                // This creates a light, aiming 0,1,0 - to the sky (non-mesh)
                var light = new BABYLON.HemisphericLight("light1", new BABYLON.Vector3(0, 1, 0), scene);

                // Default intensity is 1. Let's dim the light a small amount
                light.intensity = 0.7;

                // Our built-in 'sphere' shape. Params: name, subdivs, size, scene
                var sphere = BABYLON.Mesh.CreateSphere("sphere1", 16, 2, scene);

                // Move the sphere upward 1/2 its height
                sphere.position.y = 1;

                // Our built-in 'ground' shape. Params: name, width, depth, subdivs, scene
                var ground = BABYLON.Mesh.CreateGround("ground1", 6, 6, 2, scene);

                return scene;
            }
    }).ready(function(assets) {
        _r.createLibrary("lib1", assets.meshes, assets.lights);
        _r.import("https://models.babylonjs.com/CornellBox/cornellBox.babylon")
            .ready(function(assetContainer) {
                console.log("createLibrary", assetContainer);
                _r.createLibrary("lib2", assetContainer);

                for(var i = 0; i < _r.library("lib2").length; i++) {
                    console.log(i, _r.library("lib2")[i].name);
                }
                _r.select("bloc.000").trigger("customEvent", {
                    hello : "world"
                });

                _r.select("bloc.000").one("customEvent", function(data) {
                    console.log("customEvent callback", data);
                });

                _r.select("bloc.000").trigger("customEvent", {
                    hello : "world"
                });

                _r.select("bloc.000").trigger("customEvent", {
                    hello : "blah"
                });

                function handler() {
                    console.log("handler from ", this.name)
                }
                _r.select("*:mesh").on("event1", handler);

                _r.select("*:mesh").trigger("event1");

                _r.select("*:mesh").off("event1", handler);

                _r.select("*:mesh").trigger("event1");

                _r.select("*:mesh").on("OnPickTrigger", function(e) {
                    console.log("OnPickTrigger " + this.name);
                });
            });
    });
</script>
Lorem ipsum dolor sit amet, consectetur adipisicing elit. A accusamus, animi aperiam atque, commodi consequuntur debitis, earum eligendi facere inventore iusto laboriosam libero nemo neque quam qui quo quos ut
Lorem ipsum dolor sit amet, consectetur adipisicing elitLorem ipsum dolor sit amet, consectetur adipisicing elit. A accusamus, animi aperiam atque, commodi consequuntur debitis, earum eligendi facere inventore iusto laboriosam libero nemo neque quam qui quo quos ut
Lorem ipsum dolor sit amet, consectetur adipisicing elitLorem ipsum dolor sit amet, consectetur adipisicing elit. A accusamus, animi aperiam atque, commodi consequuntur debitis, earum eligendi facere inventore iusto laboriosam libero nemo neque quam qui quo quos ut
Lorem ipsum dolor sit amet, consectetur adipisicing elitLorem ipsum dolor sit amet, consectetur adipisicing elit. A accusamus, animi aperiam atque, commodi consequuntur debitis, earum eligendi facere inventore iusto laboriosam libero nemo neque quam qui quo quos ut
Lorem ipsum dolor sit amet, consectetur adipisicing elitLorem ipsum dolor sit amet, consectetur adipisicing elit. A accusamus, animi aperiam atque, commodi consequuntur debitis, earum eligendi facere inventore iusto laboriosam libero nemo neque quam qui quo quos ut
Lorem ipsum dolor sit amet, consectetur adipisicing elitLorem ipsum dolor sit amet, consectetur adipisicing elit. A accusamus, animi aperiam atque, commodi consequuntur debitis, earum eligendi facere inventore iusto laboriosam libero nemo neque quam qui quo quos ut
Lorem ipsum dolor sit amet, consectetur adipisicing elitLorem ipsum dolor sit amet, consectetur adipisicing elit. A accusamus, animi aperiam atque, commodi consequuntur debitis, earum eligendi facere inventore iusto laboriosam libero nemo neque quam qui quo quos ut
Lorem ipsum dolor sit amet, consectetur adipisicing elitLorem ipsum dolor sit amet, consectetur adipisicing elit. A accusamus, animi aperiam atque, commodi consequuntur debitis, earum eligendi facere inventore iusto laboriosam libero nemo neque quam qui quo quos ut
Lorem ipsum dolor sit amet, consectetur adipisicing elitLorem ipsum dolor sit amet, consectetur adipisicing elit. A accusamus, animi aperiam atque, commodi consequuntur debitis, earum eligendi facere inventore iusto laboriosam libero nemo neque quam qui quo quos ut
Lorem ipsum dolor sit amet, consectetur adipisicing elitLorem ipsum dolor sit amet, consectetur adipisicing elit. A accusamus, animi aperiam atque, commodi consequuntur debitis, earum eligendi facere inventore iusto laboriosam libero nemo neque quam qui quo quos ut
Lorem ipsum dolor sit amet, consectetur adipisicing elitLorem ipsum dolor sit amet, consectetur adipisicing elit. A accusamus, animi aperiam atque, commodi consequuntur debitis, earum eligendi facere inventore iusto laboriosam libero nemo neque quam qui quo quos ut
Lorem ipsum dolor sit amet, consectetur adipisicing elitLorem ipsum dolor sit amet, consectetur adipisicing elit. A accusamus, animi aperiam atque, commodi consequuntur debitis, earum eligendi facere inventore iusto laboriosam libero nemo neque quam qui quo quos ut
Lorem ipsum dolor sit amet, consectetur adipisicing elitLorem ipsum dolor sit amet, consectetur adipisicing elit. A accusamus, animi aperiam atque, commodi consequuntur debitis, earum eligendi facere inventore iusto laboriosam libero nemo neque quam qui quo quos ut
Lorem ipsum dolor sit amet, consectetur adipisicing elitLorem ipsum dolor sit amet, consectetur adipisicing elit. A accusamus, animi aperiam atque, commodi consequuntur debitis, earum eligendi facere inventore iusto laboriosam libero nemo neque quam qui quo quos ut
Lorem ipsum dolor sit amet, consectetur adipisicing elitLorem ipsum dolor sit amet, consectetur adipisicing elit. A accusamus, animi aperiam atque, commodi consequuntur debitis, earum eligendi facere inventore iusto laboriosam libero nemo neque quam qui quo quos ut
Lorem ipsum dolor sit amet, consectetur adipisicing elit. Autem necessitatibus rerum tenetur. At eaque fuga impedit perspiciatis, quod repellat vel. Aut blanditiis dolorem perspiciatis. A cumque dolor mollitia natus officia.

</body>
</html>