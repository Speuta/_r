{"version":3,"file":"_r.js","sources":["../src/is.ts","../src/global.ts","../src/data.ts","../src/events/core.ts","../src/util/queryString.ts","../src/util/extend.ts","../src/activateCamera.ts","../src/Selector.ts","../src/Elements.ts","../src/library.ts","../src/select.ts","../node_modules/q/q.js","../src/renderLoop.ts","../src/patch.ts","../src/download.ts","../src/launch.ts","../src/events/keys.ts","../src/events/meshes.ts","../src/events/index.ts","../src/util/color.ts","../src/animate.ts","../src/show.hide/normals.ts","../src/show.hide/wireframe.ts","../src/show.hide/gizmo.ts","../src/show.hide/index.ts","../src/util/loadingScreen.ts","../src/util/router.ts","../src/patch.plugins/colors.ts","../src/patch.plugins/star.ts","../src/index.ts"],"sourcesContent":["export module is {\r\n  export function Function(functionToCheck): boolean {\r\n    var getType = {};\r\n    return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\r\n  }\r\n\r\n  export function Number(n): boolean {\r\n    return !isNaN(parseFloat(n)) && isFinite(n);\r\n  }\r\n\r\n  export function PlainObject(n): boolean {\r\n    // Basic check for Type object that's not null\r\n    if (typeof n == 'object' && n !== null) {\r\n      // If Object.getPrototypeOf supported, use it\r\n      if (typeof Object.getPrototypeOf == 'function') {\r\n        var proto = Object.getPrototypeOf(n);\r\n        return proto === Object.prototype || proto === null;\r\n      }\r\n      // Otherwise, use internal class\r\n      // This should be reliable as if getPrototypeOf not supported, is pre-ES5\r\n      return Object.prototype.toString.call(n) == '[object Object]';\r\n    }\r\n    // Not an object\r\n    return false;\r\n  }\r\n\r\n  export function AssetContainer(x: any) {\r\n    return x instanceof BABYLON.AssetContainer;\r\n  }\r\n\r\n  export function Scene(x: any) {\r\n    return x instanceof BABYLON.Scene;\r\n  }\r\n\r\n  export function TransformNode(x : any) {\r\n    return x instanceof BABYLON.TransformNode;\r\n  }\r\n\r\n  export function Array(x: any): boolean {\r\n    return window['Array'].isArray(x);\r\n  }\r\n\r\n  export function Mesh(x: any): boolean {\r\n    return x instanceof BABYLON.AbstractMesh;\r\n  }\r\n\r\n  export function Material(x: any): boolean {\r\n    return x instanceof BABYLON.Material;\r\n  }\r\n\r\n  export function MultiMaterial(x: any): boolean {\r\n    return x instanceof BABYLON.MultiMaterial;\r\n  }\r\n\r\n  export function Texture(x: any): boolean {\r\n    return x instanceof BABYLON.Texture;\r\n  }\r\n\r\n  export function Light(x: any): boolean {\r\n    return x instanceof BABYLON.Light;\r\n  }\r\n\r\n  export function Camera(x: any): boolean {\r\n    return x instanceof BABYLON.Camera;\r\n  }\r\n\r\n  export function Vector3(x: any): boolean {\r\n    return x instanceof BABYLON.Vector3 || (is.Array(x) && x.length == 3);\r\n  }\r\n\r\n  export function Vector2(x: any): boolean {\r\n    return x instanceof BABYLON.Vector2;\r\n  }\r\n\r\n  export function Color(x: any): boolean {\r\n    //TODO\r\n    //return HexColor(x) || x instanceof BABYLON.Color3 || x instanceof BABYLON.Color4 || _r.colorNames[x] != null || (is.String(x) && (x.trim().indexOf('rgb(') == 0 ||  x.trim().indexOf('rgba(') == 0));\r\n    return HexColor(x) || x instanceof BABYLON.Color3 || x instanceof BABYLON.Color4 || (is.String(x) && (x.trim().indexOf('rgb(') == 0 || x.trim().indexOf('rgba(') == 0));\r\n  }\r\n\r\n  export function HexColor(x: any): boolean {\r\n    return String(x) && x[0] == '#';\r\n  }\r\n\r\n  export function Float(n: any): boolean {\r\n    return Number(n) === n && n % 1 !== 0;\r\n  }\r\n\r\n  export function Int(n: any): boolean {\r\n    return Number(n) === n && n % 1 === 0;\r\n  }\r\n\r\n  export function Quaternion(n: any): boolean {\r\n    return n instanceof BABYLON.Quaternion;\r\n  }\r\n\r\n  export function Matrix(n: any): boolean {\r\n    return n instanceof BABYLON.Matrix;\r\n  }\r\n\r\n  export function String(x: any): boolean {\r\n    return typeof x === \"string\";\r\n  }\r\n\r\n  export function Size(n: any): boolean {\r\n    return n instanceof BABYLON.Size;\r\n  }\r\n\r\n  export function PatchFile(expr: string) {\r\n    if (typeof expr !== 'string') {\r\n      return false;\r\n    }\r\n    var split = expr.split('.');\r\n    var extension = split[split.length - 1].trim();\r\n    return extension == 'runtime' || extension == 'patch' || extension == 'js';\r\n  }\r\n\r\n  export function Boolean(expr: any): boolean {\r\n    return typeof expr == 'boolean';\r\n  }\r\n\r\n  /**\r\n   * Camera || Light || Material || Mesh || Texture ||\r\n   * @param x\r\n   * @constructor\r\n   */\r\n  export function BabylonNode(x: any) {\r\n    return is.Camera(x) || is.Light(x) || is.Material(x) || is.Mesh(x) || is.Texture(x);\r\n  }\r\n\r\n  /**\r\n   * Check is a javascript Object is a DOM Object\r\n   * @param expr\r\n   * @constructor\r\n   */\r\n  export function DOM(expr: any): boolean {\r\n    // from https://stackoverflow.com/questions/384286/javascript-isdom-how-do-you-check-if-a-javascript-object-is-a-dom-object\r\n    return (\r\n      typeof HTMLElement === \"object\" ? expr instanceof HTMLElement : //DOM2\r\n        expr && typeof expr === \"object\" && expr !== null && expr.nodeType === 1 && typeof expr.nodeName === \"string\"\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Test for any Primitive\r\n   * @param x\r\n   * @returns {boolean}\r\n   * @constructor\r\n   */\r\n  export function Primitive(x: any) {\r\n    return x !== Object(x);\r\n  }\r\n\r\n  export function Promise(x: any) {\r\n    return x && typeof x[\"then\"] == 'function';\r\n  }\r\n}\r\n","import { is } from \"./is.js\";\r\nlet _scene, _engine, _canvas;\r\n\r\nexport class global {\r\n  static fn = {};\r\n  static get canvas() {\r\n    if (!_canvas) {\r\n      if (BABYLON.Engine.LastCreatedEngine) {\r\n        let canvas = BABYLON.Engine.LastCreatedEngine.getRenderingCanvas();\r\n        if (canvas) {\r\n          _canvas = canvas;\r\n          return _canvas;\r\n        }\r\n      }\r\n      _canvas = document.createElement('canvas');\r\n      _canvas.setAttribute('touch-action', 'none');\r\n      _canvas.style.width = \"100%\";\r\n      _canvas.style.height = \"100%\";\r\n      document.body.appendChild(_canvas);\r\n    }\r\n    return _canvas;\r\n  }\r\n\r\n  static set canvas(value) {\r\n    if (is.String(value)) {\r\n      _canvas = document.getElementById(value);\r\n    }\r\n    else {\r\n      _canvas = value;\r\n    }\r\n  }\r\n\r\n  static get engine() {\r\n    if (!_engine) {\r\n      if (BABYLON.Engine.LastCreatedEngine) {\r\n        _engine = BABYLON.Engine.LastCreatedEngine;\r\n      }\r\n      else {\r\n        _engine = new BABYLON.Engine(global.canvas, true);\r\n      }\r\n\r\n    }\r\n    return _engine;\r\n  }\r\n\r\n  static set engine(value) {\r\n    _engine = value;\r\n    // the canvas/window resize event handler\r\n    window.addEventListener('resize', function() {\r\n      _engine.resize();\r\n    });\r\n  }\r\n\r\n  static get scene() {\r\n    if (!_scene) {\r\n      if (BABYLON.Engine.LastCreatedScene) {\r\n        _scene = BABYLON.Engine.LastCreatedScene;\r\n      }\r\n      else {\r\n        _scene = new BABYLON.Scene(global.engine);\r\n      }\r\n    }\r\n    return _scene;\r\n  }\r\n\r\n  static set scene(value) {\r\n    _scene = value;\r\n  }\r\n\r\n  static TRACE = false;\r\n}","import { is } from \"./is.js\";\r\nimport { global } from \"./global.js\";\r\n\r\nlet cache = [];\r\nlet expando = '_r' + Date.now();\r\n\r\n/**\r\n * Attach any data to any js object (inspired by {@link https://api.jquery.com/data/ |jQuery.data()}).\r\n * @param element\r\n * @param key\r\n * @param value\r\n */\r\nexport function data(element : any, key?: string, value?: any) {\r\n    if (!element.hasOwnProperty(expando)) {\r\n        element[expando] = cache.length;\r\n        cache[element[expando]] = {};\r\n    }\r\n    if (key != null) {\r\n        if (value !== undefined) {\r\n            cache[element[expando]][key] = value;\r\n        }\r\n        else {\r\n            return cache[element[expando]][key];\r\n        }\r\n    }\r\n    else {\r\n        return cache[element[expando]];\r\n    }\r\n}\r\n\r\nglobal.fn[\"data\"] = function(key? : string, value? : any) {\r\n    if (key != null && value != null) {\r\n        for (let i = 0; i < this.length; i++) {\r\n            data(this[i], key, value);\r\n        }\r\n    }\r\n    else {\r\n        return data(this[0], key, value);\r\n    }\r\n};\r\n","import { data } from \"../data.js\";\r\nimport { is } from \"../is.js\";\r\n\r\nexport function on(element: any, event: string, handler: (...args: any[]) => void, repeat = true) {\r\n  if (!data(element, '_r.e')) {\r\n    data(element, '_r.e', {});\r\n  }\r\n  let events = data(element, '_r.e');\r\n  if (!events[event]) {\r\n    events[event] = [];\r\n  }\r\n  events[event].push({\r\n    handler: handler,\r\n    repeat: repeat\r\n  });\r\n}\r\n\r\nexport function one(element: any, event: string, handler: (...args: any[]) => void) {\r\n  on(element, event, handler, false);\r\n}\r\n\r\nexport function trigger(element: any, event: string, ...extraParameters: any[]) {\r\n  let events = data(element, '_r.e');\r\n  if (!events) {\r\n    return;\r\n  }\r\n  let handlers = events[event];\r\n  if (is.Array(handlers)) {\r\n    handlers.forEach(function(callback) {\r\n      try {\r\n        callback.handler.call(element, ...extraParameters);\r\n        if (!callback.repeat) {\r\n          off(element, event, callback.handler);\r\n        }\r\n      }\r\n      catch (ex) {\r\n        console.error(\"_r.trigger exception\", ex);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport function off(element: any, event: string, handler?: (...args: any[]) => void) {\r\n  let events = data(element, '_r.e');\r\n  if (events[event]) {\r\n    if (handler) {\r\n      events[event] = events[event].filter(function(_handler) {\r\n        if (_handler.handler.toString() == handler.toString()) {\r\n          events[event].splice(events[event].indexOf(_handler), 1);\r\n        }\r\n      });\r\n    }\r\n    else {\r\n      events[event] = [];\r\n    }\r\n  }\r\n}","import { on, off, one, trigger } from \"../events/core.js\";\r\n\r\nfunction getQueryStringParameter(name, url?) {\r\n  if (!url) {\r\n    url = window.location.href;\r\n  }\r\n  name = name.replace(/[\\[\\]]/g, '\\\\$&');\r\n  let regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\r\n    results = regex.exec(url);\r\n  if (!results) {\r\n    return null;\r\n  }\r\n  if (!results[2]) {\r\n    return '';\r\n  }\r\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\r\n}\r\n\r\nfunction updateUrlParameter(uri, key, value) {\r\n  // remove the hash part before operating on the uri\r\n  let i = uri.indexOf('#');\r\n  let hash = i === -1 ? ''  : uri.substr(i);\r\n  uri = i === -1 ? uri : uri.substr(0, i);\r\n\r\n  let re = new RegExp(\"([?&])\" + key + \"=.*?(&|$)\", \"i\");\r\n  let separator = uri.indexOf('?') !== -1 ? \"&\" : \"?\";\r\n\r\n  if (!value) {\r\n    // remove key-value pair if value is empty\r\n    uri = uri.replace(new RegExp(\"([?&]?)\" + key + \"=[^&]*\", \"i\"), '');\r\n    if (uri.slice(-1) === '?') {\r\n      uri = uri.slice(0, -1);\r\n    }\r\n    // replace first occurrence of & by ? if no ? is present\r\n    if (uri.indexOf('?') === -1) {\r\n      uri = uri.replace(/&/, '?');\r\n    }\r\n  } else if (uri.match(re)) {\r\n    uri = uri.replace(re, '$1' + key + \"=\" + value + '$2');\r\n  } else {\r\n    uri = uri + separator + key + \"=\" + value;\r\n  }\r\n  return uri + hash;\r\n}\r\n\r\nexport let queryString = {\r\n  get : function(name) {\r\n    return getQueryStringParameter(name);\r\n  },\r\n  set : function(name, value) {\r\n    if (history.pushState) {\r\n      let newurl = updateUrlParameter(window.location.href, name, value);\r\n      window.history.pushState(\r\n        {path: newurl},\r\n        '',\r\n        newurl);\r\n    }\r\n    this.trigger(name, value);\r\n  },\r\n  on : function(event: string, handler: (...args: any[]) => void, repeat = true) {\r\n    on(this, event, handler, repeat);\r\n  },\r\n  off : function(event: string, handler?: (...args: any[]) => void) {\r\n    off(this, event, handler);\r\n  },\r\n  one : function(event: string, handler: (...args: any[]) => void) {\r\n    one(this, event, handler);\r\n  },\r\n  trigger : function(event: string, extraParameters?: any) {\r\n    trigger(this, event, extraParameters);\r\n  },\r\n};","import { is } from \"../is.js\";\r\n\r\n/**\r\n * Merge the contents of two or more objects together into the first object.\r\n *\r\n * - If first parameter is equal to true, the merge becomes recursive (aka. deep copy). Passing false for this argument is not supported.\r\n * - When two or more object arguments are supplied to _r.extend(), properties from all of the objects are added to the target object. Arguments that are null or undefined are ignored.\r\n *\r\n * @param args\r\n * @returns {any}\r\n */\r\nexport function extend(...args: any[]): any {\r\n  /**\r\n   * inspired by https://j11y.io/jquery/#v=1.11.2&fn=jQuery.extend\r\n   * (https://github.com/jquery/jquery/blob/master/src/core.js)\r\n   */\r\n  let options, name, src, copy, isArray, clone,\r\n    target = args[0],\r\n    i = 1,\r\n    length = args.length,\r\n    deep = false;\r\n\r\n  // Handle a deep copy situation\r\n  if (typeof target === \"boolean\") {\r\n    deep = target;\r\n    target = arguments[1] || {};\r\n    // skip the boolean and the target\r\n    i++;\r\n  }\r\n  // Handle case when target is a string or something (possible in deep copy)\r\n  if (typeof target !== \"object\" && !is.Function(target)) {\r\n    target = {};\r\n  }\r\n\r\n  for (; i < length; i++) {\r\n    // Only deal with non-null/undefined values\r\n    if ((options = arguments[i]) != null) {\r\n      // Extend the base object\r\n      for (name in options) {\r\n        src = target[name];\r\n        copy = options[name];\r\n        // Prevent never-ending loop\r\n        if (target == copy) {\r\n          continue;\r\n        }\r\n        // Recurse if we're merging plain objects or arrays\r\n        if (deep && copy && (is.PlainObject(copy) || (isArray = is.Array(copy)))) {\r\n          if (isArray) {\r\n            isArray = false;\r\n            clone = src && is.Array(src) ? src : [];\r\n          }\r\n          else {\r\n            clone = src && is.PlainObject(src) ? src : {};\r\n          }\r\n          // Never move original objects, clone them\r\n          target[name] = extend(deep, clone, copy);\r\n        }\r\n        else {\r\n          // Don't bring in undefined values\r\n          if (copy !== undefined) {\r\n            target[name] = copy;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return target;\r\n}","import { global } from './global.js';\r\n\r\nexport function activateCamera(camera : string) {\r\n    if (global.scene.activeCamera) {\r\n        global.scene.activeCamera.detachControl();\r\n    }\r\n\r\n    global.scene.setActiveCameraByName(camera);\r\n    global.scene.activeCamera.attachControl(global.canvas);\r\n\r\n    if (global.TRACE) {\r\n        console.groupCollapsed(\"[_r] - activate camera \" + global.scene.activeCamera.name);\r\n        console.log(global.scene.activeCamera);\r\n        console.groupEnd();\r\n    }\r\n}","import { is } from \"./is.js\";\r\n\r\nexport class Selector {\r\n  type = \"all\";\r\n  filters: Array<any>;\r\n\r\n  constructor(selector: string) {\r\n    let filters = [];\r\n    let type = \"all\";\r\n    let item = selector.trim();\r\n    if (item.indexOf(\":mesh\") !== -1) {\r\n      type = \"mesh\";\r\n    }\r\n    if (item.indexOf(\":material\") !== -1) {\r\n      type = \"material\";\r\n    }\r\n    if (item.indexOf(\":light\") !== -1) {\r\n      type = \"light\";\r\n    }\r\n    if (item.indexOf(\":camera\") !== -1) {\r\n      type = \"camera\";\r\n    }\r\n    if (item.indexOf(\":texture\") !== -1) {\r\n      type = \"texture\";\r\n    }\r\n    if (item.indexOf(\":multimaterial\") !== -1) {\r\n      type = \"multimaterial\";\r\n    }\r\n    if (item.indexOf(':transformNode') !== -1) {\r\n      type = \"transformNode\";\r\n    }\r\n    [\":mesh\", \":material\", \":multimaterial\", \":camera\", \":light\", \":texture\", \":transformNode\"].forEach(function(type) {\r\n      item = item.replace(type, '');\r\n    });\r\n\r\n    // [isVisible][alpha!= 0.1]\r\n    let regExpAttribute = /\\[(.*?)\\]/;\r\n    let matches = [];\r\n    let match;\r\n    while (match = regExpAttribute.exec(selector)) {\r\n      matches.push(match[1]);\r\n      selector = selector.replace(regExpAttribute, '');\r\n    }\r\n    // TODO [material.diffuseTexture.name=texture*.jpg]\r\n    matches.forEach((expr) => {\r\n      if (expr.indexOf('!=') !== -1) {\r\n        let split = expr.split('!=');\r\n        let left = split[0].trim();\r\n        let right = split[1].trim();\r\n        try {\r\n          right = JSON.parse(right);\r\n        }\r\n        catch {\r\n          try {\r\n            right = JSON.parse(JSON.stringify(right));\r\n          }\r\n          catch {\r\n            console.error(\"_r.select - incorrect parameter : \" + right);\r\n          }\r\n        }\r\n        let func = (element) => {\r\n          let _split = left.split('.');\r\n          let _element = element;\r\n          for (let i = 0; i < _split.length; i++) {\r\n            if (_element != null && _element[_split[i]] != null) {\r\n              _element = _element[_split[i]];\r\n            } else {\r\n              _element = null;\r\n            }\r\n          }\r\n          return _element != null && _element != right;\r\n        };\r\n        filters.push(func);\r\n      }\r\n      else {\r\n        if (expr.indexOf('=') !== -1) {\r\n          let split = expr.split('=');\r\n          let left = split[0].trim();\r\n          let right = split[1].trim();\r\n          try {\r\n            right = JSON.parse(right);\r\n          }\r\n          catch {\r\n            try {\r\n              right = JSON.parse(JSON.stringify(right));\r\n            }\r\n            catch {\r\n              console.error(\"_r.select - incorrect parameter : \" + right);\r\n            }\r\n          }\r\n          let func = (element) => {\r\n            let _split = left.split('.');\r\n            let _element = element;\r\n            for (let i = 0; i < _split.length; i++) {\r\n              if (_element != null && _element[_split[i]] != null) {\r\n                _element = _element[_split[i]];\r\n              } else {\r\n                _element = null;\r\n              }\r\n            }\r\n            return _element != null && _element == right;\r\n          };\r\n          filters.push(func);\r\n        }\r\n        else {\r\n          let func = (element) => {\r\n            let left = expr.trim();\r\n            let _split = left.split('.');\r\n            let _element = element;\r\n            for (let i = 0; i < _split.length; i++) {\r\n              if (_element != null && _element[_split[i]] != null) {\r\n                _element = _element[_split[i]];\r\n              } else {\r\n                _element = null;\r\n              }\r\n            }\r\n            return _element != null;\r\n          };\r\n          filters.push(func);\r\n        }\r\n      }\r\n    });\r\n    item = item.replace(regExpAttribute, '');\r\n    // Here item only contains name selector i.e mesh.00*\r\n    let exp = item.replace(/\\*/g, '.*');\r\n    let regExp = new RegExp('^' + exp + '$');\r\n    filters.push(function(element) {\r\n      return element.hasOwnProperty('name') && regExp.test(element.name);\r\n    });\r\n    // TODO :not(selector)\r\n    this.filters = filters;\r\n    this.type = type;\r\n  }\r\n\r\n  matchFilters(element) {\r\n    for (let i = 0; i < this.filters.length; i++) {\r\n      if (!this.filters[i](element)) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  matchType(element) {\r\n    if (this.type == \"all\") {\r\n      return true;\r\n    }\r\n    if (this.type == \"mesh\") {\r\n      return is.Mesh(element);\r\n    }\r\n    if (this.type == \"light\") {\r\n      return is.Light(element);\r\n    }\r\n    if (this.type == \"material\") {\r\n      return is.Material(element);\r\n    }\r\n    if (this.type == \"multimaterial\") {\r\n      return is.MultiMaterial(element);\r\n    }\r\n    if (this.type == \"texture\") {\r\n      return is.Texture(element);\r\n    }\r\n    if (this.type == \"camera\") {\r\n      return is.Camera(element);\r\n    }\r\n    if (this.type == \"transformNode\") {\r\n      return is.TransformNode(element);\r\n    }\r\n  }\r\n}","import { global } from \"./global.js\";\r\nimport { is } from \"./is.js\";\r\nimport { Selector } from \"./Selector.js\";\r\n\r\nexport class Elements {\r\n  length : number;\r\n  constructor(...elements : any) {\r\n    this.length = 0;\r\n    for (let i = 0; i < elements.length; i++) {\r\n      this.add(elements[i]);\r\n    }\r\n  }\r\n\r\n  add(element : any) {\r\n    if (is.Array(element)) {\r\n      for (let i = 0; i < element.length; i++) {\r\n        this.add(element[i]);\r\n      }\r\n      return;\r\n    }\r\n    if (is.AssetContainer(element)) {\r\n      for (let i = 0; i < element.meshes.length; i++) {\r\n        this[this.length++] = element.meshes[i];\r\n      }\r\n      for (let i = 0; i < element.lights.length; i++) {\r\n        this[this.length++] = element.lights[i];\r\n      }\r\n      for (let i = 0; i < element.materials.length; i++) {\r\n        this[this.length++] = element.materials[i];\r\n      }\r\n      for (let i = 0; i < element.textures.length; i++) {\r\n        this[this.length++] = element.textures[i];\r\n      }\r\n      for (let i = 0; i < element.cameras.length; i++) {\r\n        this[this.length++] = element.cameras[i];\r\n      }\r\n      return;\r\n    }\r\n    this[this.length++] = element;\r\n  }\r\n\r\n  contains(element : any) : boolean {\r\n    return this.toArray().indexOf(element) !== -1;\r\n  }\r\n\r\n  /**\r\n   * Iterate over elements and executing a function for each element.\r\n   * @param callback A function to execute for each element.\r\n   * @returns {_r.Elements}\r\n   */\r\n  each(callback: Function) : Elements {\r\n    for (let i = 0; i < this.length; i++) {\r\n      /** We can break the .each() loop at a particular iteration by making the callback function return false. Returning non-false is the same as a continue statement in a for loop; it will skip immediately to the next iteration. **/\r\n      if (callback.call(this[i], this[i], i) == false) {\r\n        return;\r\n      }\r\n    }\r\n    return this;\r\n  }\r\n  forEach(callback : Function) : Elements {\r\n    return this.each(callback);\r\n  }\r\n  /**\r\n   * Pass each element in the current matched set through a function, producing a new jQuery object containing the return values.\r\n   * @param func A function object that will be invoked for each element in the current set.\r\n   * @returns {_r.Elements}\r\n   */\r\n  map(func : (obj : any) => any) : Elements {\r\n    let result = new Elements();\r\n    let length = 0;\r\n    this.each(function(element) {\r\n      result[length++] = func(element);\r\n    });\r\n    result.length = length;\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Reduce the set of matched elements to those that match the selector or pass the function’s test.\r\n   * @param func A function used as a test for each element in the set. this is the current element.\r\n   * @returns {_r.Elements}\r\n   */\r\n  filter(func : (obj : any) => boolean) : Elements {\r\n    let result = new Elements();\r\n    this.each(function(element) {\r\n      if (func(element)) {\r\n        result.add(element);\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Retrieve all the elements contained in the set, as an array.\r\n   * @returns {Array}\r\n   */\r\n  toArray() {\r\n    let result = [];\r\n    for (let i = 0; i < this.length; i++) {\r\n      result.push(this[i]);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Get the value of an attribute for the first element in the set of matched elements or set one or more attributes for every matched element.\r\n   * @param attribute The name of the attribute to get.\r\n   * @param value Optional value to set for the attribute.\r\n   * @returns {any}\r\n   */\r\n  attr(attribute : string, value? : any) {\r\n    if (value != null) {\r\n      this.each(function(item) {\r\n        item[attribute] = value;\r\n      });\r\n      return this;\r\n    }\r\n    else {\r\n      return this[0][attribute];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Reduce the set of matched elements to the first in the set.\r\n   * @returns {any}\r\n   */\r\n  first() : any {\r\n    return this[0];\r\n  }\r\n\r\n  /**\r\n   * @param property\r\n   * @returns {_r.Elements}\r\n   */\r\n  log(property?: string) {\r\n    this.each(function(item) {\r\n      if (property) {\r\n        console.log(item[property]);\r\n      }\r\n      else {\r\n        console.log(item);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Insert elements in the set\r\n   * @param elements\r\n   * @returns {_r.Elements}\r\n   */\r\n  concat(...elements : any[]) : Elements {\r\n    elements.forEach((element) => {\r\n      let base;\r\n      if (element instanceof Elements) {\r\n        base = element;\r\n      }\r\n      else {\r\n        if (is.String(element)) {\r\n          base = new Elements(element);\r\n        }\r\n        else {\r\n          if (is.Array(element)) {\r\n            base = new Elements();\r\n            element.forEach(function(item) {\r\n              base[base.length++] = item;\r\n            });\r\n          }\r\n          else {\r\n            base = new Elements(element);\r\n          }\r\n        }\r\n      }\r\n      base.each(function(item) {\r\n        this[this.length++] = item;\r\n      });\r\n    });\r\n    return this;\r\n  }\r\n\r\n  select(selector : string) {\r\n    if (this.length === 1 && is.Scene(this[0])) {\r\n      return find(selector, this[0]);\r\n    }\r\n    else {\r\n      return find(selector, this);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Disposes all the assets in the container\r\n   */\r\n  dispose() {\r\n    for (let i = 0; i < this.length; i++) {\r\n      this[i].dispose();\r\n      delete this[i];\r\n    }\r\n  }\r\n\r\n  addToScene() {\r\n    this.each(function(element) {\r\n      if (is.Camera(element)) {\r\n        global.scene.addCamera(element);\r\n      }\r\n      if (is.Mesh(element)) {\r\n        global.scene.addMesh(element);\r\n      }\r\n      if (is.Material(element)) {\r\n        global.scene.addMaterial(element);\r\n      }\r\n      if (is.MultiMaterial(element)) {\r\n        global.scene.addMultiMaterial(element);\r\n      }\r\n      if (is.Texture(element)) {\r\n        global.scene.addTexture(element);\r\n      }\r\n      if (is.Light(element)) {\r\n        global.scene.addLight(element);\r\n      }\r\n    });\r\n    return this;\r\n  }\r\n\r\n  removeFromScene() {\r\n    this.each(function(element) {\r\n      if (is.Camera(element)) {\r\n        global.scene.removeCamera(element);\r\n        return false;\r\n      }\r\n      if (is.Mesh(element)) {\r\n        global.scene.removeMesh(element);\r\n        return false;\r\n      }\r\n      if (is.Material(element)) {\r\n        global.scene.removeMaterial(element);\r\n        return false;\r\n      }\r\n      if (is.MultiMaterial(element)) {\r\n        global.scene.removeMultiMaterial(element);\r\n        return false;\r\n      }\r\n      if (is.Texture(element)) {\r\n        global.scene.removeTexture(element);\r\n        return false;\r\n      }\r\n      if (is.Light(element)) {\r\n        global.scene.removeLight(element);\r\n        return false;\r\n      }\r\n    });\r\n    return this;\r\n  }\r\n  // TODO\r\n  remove(element : any) {\r\n    /**\r\n     let index = this.toArray().indexOf(element);\r\n     if(index) {\r\n\r\n        }\r\n     for (let property in PROPERTIES) {\r\n            if(element instanceof BABYLON[property]) {\r\n                this[this.length++] = element;\r\n                super[PROPERTIES[property]].push(element);\r\n                return;\r\n            }\r\n        }**/\r\n  }\r\n}\r\n\r\n/**\r\n * Helper to debug selector.\r\n * @param element\r\n * @param selector\r\n * @returns {boolean} true if element match the selector, false otherwise\r\n */\r\nexport function match(element : any, params : string) {\r\n  let _selector = new Selector(params);\r\n  return _selector.matchType(element) && _selector.matchFilters(element);\r\n}\r\n\r\nexport function find(params : string, container : BABYLON.Scene | Elements | BABYLON.AssetContainer) : Elements {\r\n  let elements = new Elements();\r\n  params.split(',').forEach(function(item) {\r\n    item = item.trim();\r\n    let selector = new Selector(item);\r\n    if (is.Scene(container) || is.AssetContainer(container)) {\r\n      container = <BABYLON.AssetContainer> container;\r\n      switch (selector.type) {\r\n        case \"material\" :\r\n          container.materials.forEach(function(material) {\r\n            if (selector.matchFilters(material)) {\r\n              elements.add(material);\r\n            }\r\n          });\r\n          break;\r\n        case \"mesh\" :\r\n          container.meshes.forEach(function(mesh) {\r\n            if (selector.matchFilters(mesh)) {\r\n              elements.add(mesh);\r\n            }\r\n          });\r\n          break;\r\n        case \"light\":\r\n          container.lights.forEach(function(light) {\r\n            if (selector.matchFilters(light)) {\r\n              elements.add(light);\r\n            }\r\n          });\r\n          break;\r\n        case \"multimaterial\":\r\n          container.materials.forEach(function(material) {\r\n            if (is.MultiMaterial(material)) {\r\n              if (selector.matchFilters(material)) {\r\n                elements.add(material);\r\n              }\r\n            }\r\n          });\r\n          break;\r\n        case \"texture\":\r\n          container.textures.forEach(function(texture) {\r\n            if (selector.matchFilters(texture)) {\r\n              elements.add(texture);\r\n            }\r\n          });\r\n          break;\r\n        case \"camera\":\r\n          container.cameras.forEach(function(camera) {\r\n            if (selector.matchFilters(camera)) {\r\n              elements.add(camera);\r\n            }\r\n          });\r\n          break;\r\n        case \"transformNode\":\r\n          container.transformNodes.forEach(function(camera) {\r\n            if (selector.matchFilters(camera)) {\r\n              elements.add(camera);\r\n            }\r\n          });\r\n          break;\r\n        case \"all\":\r\n          container.materials.forEach(function(material) {\r\n            if (selector.matchFilters(material)) {\r\n              elements.add(material);\r\n            }\r\n          });\r\n          container.meshes.forEach(function(mesh) {\r\n            if (selector.matchFilters(mesh)) {\r\n              elements.add(mesh);\r\n            }\r\n          });\r\n          container.lights.forEach(function(light) {\r\n            if (selector.matchFilters(light)) {\r\n              elements.add(light);\r\n            }\r\n          });\r\n          container.textures.forEach(function(texture) {\r\n            if (selector.matchFilters(texture)) {\r\n              elements.add(texture);\r\n            }\r\n          });\r\n          container.cameras.forEach(function(camera) {\r\n            if (selector.matchFilters(camera)) {\r\n              elements.add(camera);\r\n            }\r\n          });\r\n          container.transformNodes.forEach(function(camera) {\r\n            if (selector.matchFilters(camera)) {\r\n              elements.add(camera);\r\n            }\r\n          });\r\n      }\r\n    }\r\n    else {\r\n      container = <Elements> container;\r\n      container.each(function(element) {\r\n        if (selector.matchType(element) && selector.matchFilters(element)) {\r\n          elements.add(element);\r\n        }\r\n      });\r\n    }\r\n  });\r\n  return elements;\r\n}","import { Elements } from \"./Elements.js\";\r\nimport { global } from \"./global.js\";\r\n\r\nexport var libraries = [];\r\n\r\nexport function createLibrary(name: string, ...elements: Array<any> | any) {\r\n  if (libraries[name]) {\r\n    console.error(\"[_r] Error in _r.createLibrary : \" + name + \" already exists\");\r\n    return;\r\n  }\r\n  else {\r\n    let _elements = new Elements(elements);\r\n    libraries[name] = _elements;\r\n    if (global.TRACE) {\r\n      console.groupCollapsed(\"[_r] - create library \" + name);\r\n      _elements.log();\r\n      console.groupEnd();\r\n    }\r\n  }\r\n}\r\n\r\nexport function library(name: string): Elements {\r\n  return libraries[name];\r\n}\r\n","import { is } from \"./is.js\";\r\nimport { Elements, find } from \"./Elements.js\";\r\nimport { libraries } from \"./library.js\";\r\nimport { global } from \"./global.js\";\r\n\r\nexport function select(arg) {\r\n  let elements;\r\n  if (is.String(arg)) {\r\n    if ((<string> arg).toLowerCase() === \"scene\") {\r\n      return new Elements(global.scene);\r\n    }\r\n    elements = find(arg, global.scene);\r\n    // elements could be in a library not attached to the scene\r\n\r\n    Object.getOwnPropertyNames(libraries).forEach(function(lib) {\r\n      // TODO : wtf ?\r\n      if (lib !== \"length\") {\r\n        let selection = libraries[lib].select(arg);\r\n        selection.each(function(item) {\r\n          // item could be in multiple libraries\r\n          if (!elements.contains(item)) {\r\n            elements.add(item);\r\n          }\r\n        });\r\n      }\r\n    });\r\n    if (global.TRACE === true && elements.length == 0) {\r\n      console.warn('BABYLON.Runtime::no object(s) found for selector \"' + arg + '\"');\r\n    }\r\n  }\r\n  else {\r\n    elements = new Elements(arg);\r\n  }\r\n  // plugins\r\n  for (let plugin in global.fn) {\r\n    Elements.prototype[plugin] = (...args) => {\r\n      return global.fn[plugin].call(elements, ...args);\r\n    };\r\n  }\r\n  return elements;\r\n}","// vim:ts=4:sts=4:sw=4:\n/*!\n *\n * Copyright 2009-2017 Kris Kowal under the terms of the MIT\n * license found at https://github.com/kriskowal/q/blob/v1/LICENSE\n *\n * With parts by Tyler Close\n * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n * at http://www.opensource.org/licenses/mit-license.html\n * Forked at ref_send.js version: 2009-05-11\n *\n * With parts by Mark Miller\n * Copyright (C) 2011 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n(function (definition) {\n    \"use strict\";\n\n    // This file will function properly as a <script> tag, or a module\n    // using CommonJS and NodeJS or RequireJS module formats.  In\n    // Common/Node/RequireJS, the module exports the Q API and when\n    // executed as a simple <script>, it creates a Q global instead.\n\n    // Montage Require\n    if (typeof bootstrap === \"function\") {\n        bootstrap(\"promise\", definition);\n\n    // CommonJS\n    } else if (typeof exports === \"object\" && typeof module === \"object\") {\n        module.exports = definition();\n\n    // RequireJS\n    } else if (typeof define === \"function\" && define.amd) {\n        define(definition);\n\n    // SES (Secure EcmaScript)\n    } else if (typeof ses !== \"undefined\") {\n        if (!ses.ok()) {\n            return;\n        } else {\n            ses.makeQ = definition;\n        }\n\n    // <script>\n    } else if (typeof window !== \"undefined\" || typeof self !== \"undefined\") {\n        // Prefer window over self for add-on scripts. Use self for\n        // non-windowed contexts.\n        var global = typeof window !== \"undefined\" ? window : self;\n\n        // Get the `window` object, save the previous Q global\n        // and initialize Q as a global.\n        var previousQ = global.Q;\n        global.Q = definition();\n\n        // Add a noConflict function so Q can be removed from the\n        // global namespace.\n        global.Q.noConflict = function () {\n            global.Q = previousQ;\n            return this;\n        };\n\n    } else {\n        throw new Error(\"This environment was not anticipated by Q. Please file a bug.\");\n    }\n\n})(function () {\n\"use strict\";\n\nvar hasStacks = false;\ntry {\n    throw new Error();\n} catch (e) {\n    hasStacks = !!e.stack;\n}\n\n// All code after this point will be filtered from stack traces reported\n// by Q.\nvar qStartingLine = captureLine();\nvar qFileName;\n\n// shims\n\n// used for fallback in \"allResolved\"\nvar noop = function () {};\n\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\nvar nextTick =(function () {\n    // linked list of tasks (single, with head node)\n    var head = {task: void 0, next: null};\n    var tail = head;\n    var flushing = false;\n    var requestTick = void 0;\n    var isNodeJS = false;\n    // queue for late tasks, used by unhandled rejection tracking\n    var laterQueue = [];\n\n    function flush() {\n        /* jshint loopfunc: true */\n        var task, domain;\n\n        while (head.next) {\n            head = head.next;\n            task = head.task;\n            head.task = void 0;\n            domain = head.domain;\n\n            if (domain) {\n                head.domain = void 0;\n                domain.enter();\n            }\n            runSingle(task, domain);\n\n        }\n        while (laterQueue.length) {\n            task = laterQueue.pop();\n            runSingle(task);\n        }\n        flushing = false;\n    }\n    // runs a single function in the async queue\n    function runSingle(task, domain) {\n        try {\n            task();\n\n        } catch (e) {\n            if (isNodeJS) {\n                // In node, uncaught exceptions are considered fatal errors.\n                // Re-throw them synchronously to interrupt flushing!\n\n                // Ensure continuation if the uncaught exception is suppressed\n                // listening \"uncaughtException\" events (as domains does).\n                // Continue in next event to avoid tick recursion.\n                if (domain) {\n                    domain.exit();\n                }\n                setTimeout(flush, 0);\n                if (domain) {\n                    domain.enter();\n                }\n\n                throw e;\n\n            } else {\n                // In browsers, uncaught exceptions are not fatal.\n                // Re-throw them asynchronously to avoid slow-downs.\n                setTimeout(function () {\n                    throw e;\n                }, 0);\n            }\n        }\n\n        if (domain) {\n            domain.exit();\n        }\n    }\n\n    nextTick = function (task) {\n        tail = tail.next = {\n            task: task,\n            domain: isNodeJS && process.domain,\n            next: null\n        };\n\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n\n    if (typeof process === \"object\" &&\n        process.toString() === \"[object process]\" && process.nextTick) {\n        // Ensure Q is in a real Node environment, with a `process.nextTick`.\n        // To see through fake Node environments:\n        // * Mocha test runner - exposes a `process` global without a `nextTick`\n        // * Browserify - exposes a `process.nexTick` function that uses\n        //   `setTimeout`. In this case `setImmediate` is preferred because\n        //    it is faster. Browserify's `process.toString()` yields\n        //   \"[object Object]\", while in a real Node environment\n        //   `process.toString()` yields \"[object process]\".\n        isNodeJS = true;\n\n        requestTick = function () {\n            process.nextTick(flush);\n        };\n\n    } else if (typeof setImmediate === \"function\") {\n        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n        if (typeof window !== \"undefined\") {\n            requestTick = setImmediate.bind(window, flush);\n        } else {\n            requestTick = function () {\n                setImmediate(flush);\n            };\n        }\n\n    } else if (typeof MessageChannel !== \"undefined\") {\n        // modern browsers\n        // http://www.nonblocking.io/2011/06/windownexttick.html\n        var channel = new MessageChannel();\n        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create\n        // working message ports the first time a page loads.\n        channel.port1.onmessage = function () {\n            requestTick = requestPortTick;\n            channel.port1.onmessage = flush;\n            flush();\n        };\n        var requestPortTick = function () {\n            // Opera requires us to provide a message payload, regardless of\n            // whether we use it.\n            channel.port2.postMessage(0);\n        };\n        requestTick = function () {\n            setTimeout(flush, 0);\n            requestPortTick();\n        };\n\n    } else {\n        // old browsers\n        requestTick = function () {\n            setTimeout(flush, 0);\n        };\n    }\n    // runs a task after all other tasks have been run\n    // this is useful for unhandled rejection tracking that needs to happen\n    // after all `then`d tasks have been run.\n    nextTick.runAfter = function (task) {\n        laterQueue.push(task);\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n    return nextTick;\n})();\n\n// Attempt to make generics safe in the face of downstream\n// modifications.\n// There is no situation where this is necessary.\n// If you need a security guarantee, these primordials need to be\n// deeply frozen anyway, and if you don’t need a security guarantee,\n// this is just plain paranoid.\n// However, this **might** have the nice side-effect of reducing the size of\n// the minified code by reducing x.call() to merely x()\n// See Mark Miller’s explanation of what this does.\n// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming\nvar call = Function.call;\nfunction uncurryThis(f) {\n    return function () {\n        return call.apply(f, arguments);\n    };\n}\n// This is equivalent, but slower:\n// uncurryThis = Function_bind.bind(Function_bind.call);\n// http://jsperf.com/uncurrythis\n\nvar array_slice = uncurryThis(Array.prototype.slice);\n\nvar array_reduce = uncurryThis(\n    Array.prototype.reduce || function (callback, basis) {\n        var index = 0,\n            length = this.length;\n        // concerning the initial value, if one is not provided\n        if (arguments.length === 1) {\n            // seek to the first value in the array, accounting\n            // for the possibility that is is a sparse array\n            do {\n                if (index in this) {\n                    basis = this[index++];\n                    break;\n                }\n                if (++index >= length) {\n                    throw new TypeError();\n                }\n            } while (1);\n        }\n        // reduce\n        for (; index < length; index++) {\n            // account for the possibility that the array is sparse\n            if (index in this) {\n                basis = callback(basis, this[index], index);\n            }\n        }\n        return basis;\n    }\n);\n\nvar array_indexOf = uncurryThis(\n    Array.prototype.indexOf || function (value) {\n        // not a very good shim, but good enough for our one use of it\n        for (var i = 0; i < this.length; i++) {\n            if (this[i] === value) {\n                return i;\n            }\n        }\n        return -1;\n    }\n);\n\nvar array_map = uncurryThis(\n    Array.prototype.map || function (callback, thisp) {\n        var self = this;\n        var collect = [];\n        array_reduce(self, function (undefined, value, index) {\n            collect.push(callback.call(thisp, value, index, self));\n        }, void 0);\n        return collect;\n    }\n);\n\nvar object_create = Object.create || function (prototype) {\n    function Type() { }\n    Type.prototype = prototype;\n    return new Type();\n};\n\nvar object_defineProperty = Object.defineProperty || function (obj, prop, descriptor) {\n    obj[prop] = descriptor.value;\n    return obj;\n};\n\nvar object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\n\nvar object_keys = Object.keys || function (object) {\n    var keys = [];\n    for (var key in object) {\n        if (object_hasOwnProperty(object, key)) {\n            keys.push(key);\n        }\n    }\n    return keys;\n};\n\nvar object_toString = uncurryThis(Object.prototype.toString);\n\nfunction isObject(value) {\n    return value === Object(value);\n}\n\n// generator related shims\n\n// FIXME: Remove this function once ES6 generators are in SpiderMonkey.\nfunction isStopIteration(exception) {\n    return (\n        object_toString(exception) === \"[object StopIteration]\" ||\n        exception instanceof QReturnValue\n    );\n}\n\n// FIXME: Remove this helper and Q.return once ES6 generators are in\n// SpiderMonkey.\nvar QReturnValue;\nif (typeof ReturnValue !== \"undefined\") {\n    QReturnValue = ReturnValue;\n} else {\n    QReturnValue = function (value) {\n        this.value = value;\n    };\n}\n\n// long stack traces\n\nvar STACK_JUMP_SEPARATOR = \"From previous event:\";\n\nfunction makeStackTraceLong(error, promise) {\n    // If possible, transform the error stack trace by removing Node and Q\n    // cruft, then concatenating with the stack trace of `promise`. See #57.\n    if (hasStacks &&\n        promise.stack &&\n        typeof error === \"object\" &&\n        error !== null &&\n        error.stack\n    ) {\n        var stacks = [];\n        for (var p = promise; !!p; p = p.source) {\n            if (p.stack && (!error.__minimumStackCounter__ || error.__minimumStackCounter__ > p.stackCounter)) {\n                object_defineProperty(error, \"__minimumStackCounter__\", {value: p.stackCounter, configurable: true});\n                stacks.unshift(p.stack);\n            }\n        }\n        stacks.unshift(error.stack);\n\n        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");\n        var stack = filterStackString(concatedStacks);\n        object_defineProperty(error, \"stack\", {value: stack, configurable: true});\n    }\n}\n\nfunction filterStackString(stackString) {\n    var lines = stackString.split(\"\\n\");\n    var desiredLines = [];\n    for (var i = 0; i < lines.length; ++i) {\n        var line = lines[i];\n\n        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {\n            desiredLines.push(line);\n        }\n    }\n    return desiredLines.join(\"\\n\");\n}\n\nfunction isNodeFrame(stackLine) {\n    return stackLine.indexOf(\"(module.js:\") !== -1 ||\n           stackLine.indexOf(\"(node.js:\") !== -1;\n}\n\nfunction getFileNameAndLineNumber(stackLine) {\n    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"\n    // In IE10 function name can have spaces (\"Anonymous function\") O_o\n    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);\n    if (attempt1) {\n        return [attempt1[1], Number(attempt1[2])];\n    }\n\n    // Anonymous functions: \"at filename:lineNumber:columnNumber\"\n    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);\n    if (attempt2) {\n        return [attempt2[1], Number(attempt2[2])];\n    }\n\n    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"\n    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);\n    if (attempt3) {\n        return [attempt3[1], Number(attempt3[2])];\n    }\n}\n\nfunction isInternalFrame(stackLine) {\n    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);\n\n    if (!fileNameAndLineNumber) {\n        return false;\n    }\n\n    var fileName = fileNameAndLineNumber[0];\n    var lineNumber = fileNameAndLineNumber[1];\n\n    return fileName === qFileName &&\n        lineNumber >= qStartingLine &&\n        lineNumber <= qEndingLine;\n}\n\n// discover own file name and line number range for filtering stack\n// traces\nfunction captureLine() {\n    if (!hasStacks) {\n        return;\n    }\n\n    try {\n        throw new Error();\n    } catch (e) {\n        var lines = e.stack.split(\"\\n\");\n        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];\n        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);\n        if (!fileNameAndLineNumber) {\n            return;\n        }\n\n        qFileName = fileNameAndLineNumber[0];\n        return fileNameAndLineNumber[1];\n    }\n}\n\nfunction deprecate(callback, name, alternative) {\n    return function () {\n        if (typeof console !== \"undefined\" &&\n            typeof console.warn === \"function\") {\n            console.warn(name + \" is deprecated, use \" + alternative +\n                         \" instead.\", new Error(\"\").stack);\n        }\n        return callback.apply(callback, arguments);\n    };\n}\n\n// end of shims\n// beginning of real work\n\n/**\n * Constructs a promise for an immediate reference, passes promises through, or\n * coerces promises from different systems.\n * @param value immediate reference or promise\n */\nfunction Q(value) {\n    // If the object is already a Promise, return it directly.  This enables\n    // the resolve function to both be used to created references from objects,\n    // but to tolerably coerce non-promises to promises.\n    if (value instanceof Promise) {\n        return value;\n    }\n\n    // assimilate thenables\n    if (isPromiseAlike(value)) {\n        return coerce(value);\n    } else {\n        return fulfill(value);\n    }\n}\nQ.resolve = Q;\n\n/**\n * Performs a task in a future turn of the event loop.\n * @param {Function} task\n */\nQ.nextTick = nextTick;\n\n/**\n * Controls whether or not long stack traces will be on\n */\nQ.longStackSupport = false;\n\n/**\n * The counter is used to determine the stopping point for building\n * long stack traces. In makeStackTraceLong we walk backwards through\n * the linked list of promises, only stacks which were created before\n * the rejection are concatenated.\n */\nvar longStackCounter = 1;\n\n// enable long stacks if Q_DEBUG is set\nif (typeof process === \"object\" && process && process.env && process.env.Q_DEBUG) {\n    Q.longStackSupport = true;\n}\n\n/**\n * Constructs a {promise, resolve, reject} object.\n *\n * `resolve` is a callback to invoke with a more resolved value for the\n * promise. To fulfill the promise, invoke `resolve` with any value that is\n * not a thenable. To reject the promise, invoke `resolve` with a rejected\n * thenable, or invoke `reject` with the reason directly. To resolve the\n * promise to another thenable, thus putting it in the same state, invoke\n * `resolve` with that other thenable.\n */\nQ.defer = defer;\nfunction defer() {\n    // if \"messages\" is an \"Array\", that indicates that the promise has not yet\n    // been resolved.  If it is \"undefined\", it has been resolved.  Each\n    // element of the messages array is itself an array of complete arguments to\n    // forward to the resolved promise.  We coerce the resolution value to a\n    // promise using the `resolve` function because it handles both fully\n    // non-thenable values and other thenables gracefully.\n    var messages = [], progressListeners = [], resolvedPromise;\n\n    var deferred = object_create(defer.prototype);\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, operands) {\n        var args = array_slice(arguments);\n        if (messages) {\n            messages.push(args);\n            if (op === \"when\" && operands[1]) { // progress operand\n                progressListeners.push(operands[1]);\n            }\n        } else {\n            Q.nextTick(function () {\n                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);\n            });\n        }\n    };\n\n    // XXX deprecated\n    promise.valueOf = function () {\n        if (messages) {\n            return promise;\n        }\n        var nearerValue = nearer(resolvedPromise);\n        if (isPromise(nearerValue)) {\n            resolvedPromise = nearerValue; // shorten chain\n        }\n        return nearerValue;\n    };\n\n    promise.inspect = function () {\n        if (!resolvedPromise) {\n            return { state: \"pending\" };\n        }\n        return resolvedPromise.inspect();\n    };\n\n    if (Q.longStackSupport && hasStacks) {\n        try {\n            throw new Error();\n        } catch (e) {\n            // NOTE: don't try to use `Error.captureStackTrace` or transfer the\n            // accessor around; that causes memory leaks as per GH-111. Just\n            // reify the stack trace as a string ASAP.\n            //\n            // At the same time, cut off the first line; it's always just\n            // \"[object Promise]\\n\", as per the `toString`.\n            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\n            promise.stackCounter = longStackCounter++;\n        }\n    }\n\n    // NOTE: we do the checks for `resolvedPromise` in each method, instead of\n    // consolidating them into `become`, since otherwise we'd create new\n    // promises with the lines `become(whatever(value))`. See e.g. GH-252.\n\n    function become(newPromise) {\n        resolvedPromise = newPromise;\n\n        if (Q.longStackSupport && hasStacks) {\n            // Only hold a reference to the new promise if long stacks\n            // are enabled to reduce memory usage\n            promise.source = newPromise;\n        }\n\n        array_reduce(messages, function (undefined, message) {\n            Q.nextTick(function () {\n                newPromise.promiseDispatch.apply(newPromise, message);\n            });\n        }, void 0);\n\n        messages = void 0;\n        progressListeners = void 0;\n    }\n\n    deferred.promise = promise;\n    deferred.resolve = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(Q(value));\n    };\n\n    deferred.fulfill = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(fulfill(value));\n    };\n    deferred.reject = function (reason) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(reject(reason));\n    };\n    deferred.notify = function (progress) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        array_reduce(progressListeners, function (undefined, progressListener) {\n            Q.nextTick(function () {\n                progressListener(progress);\n            });\n        }, void 0);\n    };\n\n    return deferred;\n}\n\n/**\n * Creates a Node-style callback that will resolve or reject the deferred\n * promise.\n * @returns a nodeback\n */\ndefer.prototype.makeNodeResolver = function () {\n    var self = this;\n    return function (error, value) {\n        if (error) {\n            self.reject(error);\n        } else if (arguments.length > 2) {\n            self.resolve(array_slice(arguments, 1));\n        } else {\n            self.resolve(value);\n        }\n    };\n};\n\n/**\n * @param resolver {Function} a function that returns nothing and accepts\n * the resolve, reject, and notify functions for a deferred.\n * @returns a promise that may be resolved with the given resolve and reject\n * functions, or rejected by a thrown exception in resolver\n */\nQ.Promise = promise; // ES6\nQ.promise = promise;\nfunction promise(resolver) {\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"resolver must be a function.\");\n    }\n    var deferred = defer();\n    try {\n        resolver(deferred.resolve, deferred.reject, deferred.notify);\n    } catch (reason) {\n        deferred.reject(reason);\n    }\n    return deferred.promise;\n}\n\npromise.race = race; // ES6\npromise.all = all; // ES6\npromise.reject = reject; // ES6\npromise.resolve = Q; // ES6\n\n// XXX experimental.  This method is a way to denote that a local value is\n// serializable and should be immediately dispatched to a remote upon request,\n// instead of passing a reference.\nQ.passByCopy = function (object) {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return object;\n};\n\nPromise.prototype.passByCopy = function () {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return this;\n};\n\n/**\n * If two promises eventually fulfill to the same value, promises that value,\n * but otherwise rejects.\n * @param x {Any*}\n * @param y {Any*}\n * @returns {Any*} a promise for x and y if they are the same, but a rejection\n * otherwise.\n *\n */\nQ.join = function (x, y) {\n    return Q(x).join(y);\n};\n\nPromise.prototype.join = function (that) {\n    return Q([this, that]).spread(function (x, y) {\n        if (x === y) {\n            // TODO: \"===\" should be Object.is or equiv\n            return x;\n        } else {\n            throw new Error(\"Q can't join: not the same: \" + x + \" \" + y);\n        }\n    });\n};\n\n/**\n * Returns a promise for the first of an array of promises to become settled.\n * @param answers {Array[Any*]} promises to race\n * @returns {Any*} the first promise to be settled\n */\nQ.race = race;\nfunction race(answerPs) {\n    return promise(function (resolve, reject) {\n        // Switch to this once we can assume at least ES5\n        // answerPs.forEach(function (answerP) {\n        //     Q(answerP).then(resolve, reject);\n        // });\n        // Use this in the meantime\n        for (var i = 0, len = answerPs.length; i < len; i++) {\n            Q(answerPs[i]).then(resolve, reject);\n        }\n    });\n}\n\nPromise.prototype.race = function () {\n    return this.then(Q.race);\n};\n\n/**\n * Constructs a Promise with a promise descriptor object and optional fallback\n * function.  The descriptor contains methods like when(rejected), get(name),\n * set(name, value), post(name, args), and delete(name), which all\n * return either a value, a promise for a value, or a rejection.  The fallback\n * accepts the operation name, a resolver, and any further arguments that would\n * have been forwarded to the appropriate method above had a method been\n * provided with the proper name.  The API makes no guarantees about the nature\n * of the returned object, apart from that it is usable whereever promises are\n * bought and sold.\n */\nQ.makePromise = Promise;\nfunction Promise(descriptor, fallback, inspect) {\n    if (fallback === void 0) {\n        fallback = function (op) {\n            return reject(new Error(\n                \"Promise does not support operation: \" + op\n            ));\n        };\n    }\n    if (inspect === void 0) {\n        inspect = function () {\n            return {state: \"unknown\"};\n        };\n    }\n\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, args) {\n        var result;\n        try {\n            if (descriptor[op]) {\n                result = descriptor[op].apply(promise, args);\n            } else {\n                result = fallback.call(promise, op, args);\n            }\n        } catch (exception) {\n            result = reject(exception);\n        }\n        if (resolve) {\n            resolve(result);\n        }\n    };\n\n    promise.inspect = inspect;\n\n    // XXX deprecated `valueOf` and `exception` support\n    if (inspect) {\n        var inspected = inspect();\n        if (inspected.state === \"rejected\") {\n            promise.exception = inspected.reason;\n        }\n\n        promise.valueOf = function () {\n            var inspected = inspect();\n            if (inspected.state === \"pending\" ||\n                inspected.state === \"rejected\") {\n                return promise;\n            }\n            return inspected.value;\n        };\n    }\n\n    return promise;\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.then = function (fulfilled, rejected, progressed) {\n    var self = this;\n    var deferred = defer();\n    var done = false;   // ensure the untrusted promise makes at most a\n                        // single call to one of the callbacks\n\n    function _fulfilled(value) {\n        try {\n            return typeof fulfilled === \"function\" ? fulfilled(value) : value;\n        } catch (exception) {\n            return reject(exception);\n        }\n    }\n\n    function _rejected(exception) {\n        if (typeof rejected === \"function\") {\n            makeStackTraceLong(exception, self);\n            try {\n                return rejected(exception);\n            } catch (newException) {\n                return reject(newException);\n            }\n        }\n        return reject(exception);\n    }\n\n    function _progressed(value) {\n        return typeof progressed === \"function\" ? progressed(value) : value;\n    }\n\n    Q.nextTick(function () {\n        self.promiseDispatch(function (value) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_fulfilled(value));\n        }, \"when\", [function (exception) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_rejected(exception));\n        }]);\n    });\n\n    // Progress propagator need to be attached in the current tick.\n    self.promiseDispatch(void 0, \"when\", [void 0, function (value) {\n        var newValue;\n        var threw = false;\n        try {\n            newValue = _progressed(value);\n        } catch (e) {\n            threw = true;\n            if (Q.onerror) {\n                Q.onerror(e);\n            } else {\n                throw e;\n            }\n        }\n\n        if (!threw) {\n            deferred.notify(newValue);\n        }\n    }]);\n\n    return deferred.promise;\n};\n\nQ.tap = function (promise, callback) {\n    return Q(promise).tap(callback);\n};\n\n/**\n * Works almost like \"finally\", but not called for rejections.\n * Original resolution value is passed through callback unaffected.\n * Callback may return a promise that will be awaited for.\n * @param {Function} callback\n * @returns {Q.Promise}\n * @example\n * doSomething()\n *   .then(...)\n *   .tap(console.log)\n *   .then(...);\n */\nPromise.prototype.tap = function (callback) {\n    callback = Q(callback);\n\n    return this.then(function (value) {\n        return callback.fcall(value).thenResolve(value);\n    });\n};\n\n/**\n * Registers an observer on a promise.\n *\n * Guarantees:\n *\n * 1. that fulfilled and rejected will be called only once.\n * 2. that either the fulfilled callback or the rejected callback will be\n *    called, but not both.\n * 3. that fulfilled and rejected will not be called in this turn.\n *\n * @param value      promise or immediate reference to observe\n * @param fulfilled  function to be called with the fulfilled value\n * @param rejected   function to be called with the rejection exception\n * @param progressed function to be called on any progress notifications\n * @return promise for the return value from the invoked callback\n */\nQ.when = when;\nfunction when(value, fulfilled, rejected, progressed) {\n    return Q(value).then(fulfilled, rejected, progressed);\n}\n\nPromise.prototype.thenResolve = function (value) {\n    return this.then(function () { return value; });\n};\n\nQ.thenResolve = function (promise, value) {\n    return Q(promise).thenResolve(value);\n};\n\nPromise.prototype.thenReject = function (reason) {\n    return this.then(function () { throw reason; });\n};\n\nQ.thenReject = function (promise, reason) {\n    return Q(promise).thenReject(reason);\n};\n\n/**\n * If an object is not a promise, it is as \"near\" as possible.\n * If a promise is rejected, it is as \"near\" as possible too.\n * If it’s a fulfilled promise, the fulfillment value is nearer.\n * If it’s a deferred promise and the deferred has been resolved, the\n * resolution is \"nearer\".\n * @param object\n * @returns most resolved (nearest) form of the object\n */\n\n// XXX should we re-do this?\nQ.nearer = nearer;\nfunction nearer(value) {\n    if (isPromise(value)) {\n        var inspected = value.inspect();\n        if (inspected.state === \"fulfilled\") {\n            return inspected.value;\n        }\n    }\n    return value;\n}\n\n/**\n * @returns whether the given object is a promise.\n * Otherwise it is a fulfilled value.\n */\nQ.isPromise = isPromise;\nfunction isPromise(object) {\n    return object instanceof Promise;\n}\n\nQ.isPromiseAlike = isPromiseAlike;\nfunction isPromiseAlike(object) {\n    return isObject(object) && typeof object.then === \"function\";\n}\n\n/**\n * @returns whether the given object is a pending promise, meaning not\n * fulfilled or rejected.\n */\nQ.isPending = isPending;\nfunction isPending(object) {\n    return isPromise(object) && object.inspect().state === \"pending\";\n}\n\nPromise.prototype.isPending = function () {\n    return this.inspect().state === \"pending\";\n};\n\n/**\n * @returns whether the given object is a value or fulfilled\n * promise.\n */\nQ.isFulfilled = isFulfilled;\nfunction isFulfilled(object) {\n    return !isPromise(object) || object.inspect().state === \"fulfilled\";\n}\n\nPromise.prototype.isFulfilled = function () {\n    return this.inspect().state === \"fulfilled\";\n};\n\n/**\n * @returns whether the given object is a rejected promise.\n */\nQ.isRejected = isRejected;\nfunction isRejected(object) {\n    return isPromise(object) && object.inspect().state === \"rejected\";\n}\n\nPromise.prototype.isRejected = function () {\n    return this.inspect().state === \"rejected\";\n};\n\n//// BEGIN UNHANDLED REJECTION TRACKING\n\n// This promise library consumes exceptions thrown in handlers so they can be\n// handled by a subsequent promise.  The exceptions get added to this array when\n// they are created, and removed when they are handled.  Note that in ES6 or\n// shimmed environments, this would naturally be a `Set`.\nvar unhandledReasons = [];\nvar unhandledRejections = [];\nvar reportedUnhandledRejections = [];\nvar trackUnhandledRejections = true;\n\nfunction resetUnhandledRejections() {\n    unhandledReasons.length = 0;\n    unhandledRejections.length = 0;\n\n    if (!trackUnhandledRejections) {\n        trackUnhandledRejections = true;\n    }\n}\n\nfunction trackRejection(promise, reason) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n    if (typeof process === \"object\" && typeof process.emit === \"function\") {\n        Q.nextTick.runAfter(function () {\n            if (array_indexOf(unhandledRejections, promise) !== -1) {\n                process.emit(\"unhandledRejection\", reason, promise);\n                reportedUnhandledRejections.push(promise);\n            }\n        });\n    }\n\n    unhandledRejections.push(promise);\n    if (reason && typeof reason.stack !== \"undefined\") {\n        unhandledReasons.push(reason.stack);\n    } else {\n        unhandledReasons.push(\"(no stack) \" + reason);\n    }\n}\n\nfunction untrackRejection(promise) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    var at = array_indexOf(unhandledRejections, promise);\n    if (at !== -1) {\n        if (typeof process === \"object\" && typeof process.emit === \"function\") {\n            Q.nextTick.runAfter(function () {\n                var atReport = array_indexOf(reportedUnhandledRejections, promise);\n                if (atReport !== -1) {\n                    process.emit(\"rejectionHandled\", unhandledReasons[at], promise);\n                    reportedUnhandledRejections.splice(atReport, 1);\n                }\n            });\n        }\n        unhandledRejections.splice(at, 1);\n        unhandledReasons.splice(at, 1);\n    }\n}\n\nQ.resetUnhandledRejections = resetUnhandledRejections;\n\nQ.getUnhandledReasons = function () {\n    // Make a copy so that consumers can't interfere with our internal state.\n    return unhandledReasons.slice();\n};\n\nQ.stopUnhandledRejectionTracking = function () {\n    resetUnhandledRejections();\n    trackUnhandledRejections = false;\n};\n\nresetUnhandledRejections();\n\n//// END UNHANDLED REJECTION TRACKING\n\n/**\n * Constructs a rejected promise.\n * @param reason value describing the failure\n */\nQ.reject = reject;\nfunction reject(reason) {\n    var rejection = Promise({\n        \"when\": function (rejected) {\n            // note that the error has been handled\n            if (rejected) {\n                untrackRejection(this);\n            }\n            return rejected ? rejected(reason) : this;\n        }\n    }, function fallback() {\n        return this;\n    }, function inspect() {\n        return { state: \"rejected\", reason: reason };\n    });\n\n    // Note that the reason has not been handled.\n    trackRejection(rejection, reason);\n\n    return rejection;\n}\n\n/**\n * Constructs a fulfilled promise for an immediate reference.\n * @param value immediate reference\n */\nQ.fulfill = fulfill;\nfunction fulfill(value) {\n    return Promise({\n        \"when\": function () {\n            return value;\n        },\n        \"get\": function (name) {\n            return value[name];\n        },\n        \"set\": function (name, rhs) {\n            value[name] = rhs;\n        },\n        \"delete\": function (name) {\n            delete value[name];\n        },\n        \"post\": function (name, args) {\n            // Mark Miller proposes that post with no name should apply a\n            // promised function.\n            if (name === null || name === void 0) {\n                return value.apply(void 0, args);\n            } else {\n                return value[name].apply(value, args);\n            }\n        },\n        \"apply\": function (thisp, args) {\n            return value.apply(thisp, args);\n        },\n        \"keys\": function () {\n            return object_keys(value);\n        }\n    }, void 0, function inspect() {\n        return { state: \"fulfilled\", value: value };\n    });\n}\n\n/**\n * Converts thenables to Q promises.\n * @param promise thenable promise\n * @returns a Q promise\n */\nfunction coerce(promise) {\n    var deferred = defer();\n    Q.nextTick(function () {\n        try {\n            promise.then(deferred.resolve, deferred.reject, deferred.notify);\n        } catch (exception) {\n            deferred.reject(exception);\n        }\n    });\n    return deferred.promise;\n}\n\n/**\n * Annotates an object such that it will never be\n * transferred away from this process over any promise\n * communication channel.\n * @param object\n * @returns promise a wrapping of that object that\n * additionally responds to the \"isDef\" message\n * without a rejection.\n */\nQ.master = master;\nfunction master(object) {\n    return Promise({\n        \"isDef\": function () {}\n    }, function fallback(op, args) {\n        return dispatch(object, op, args);\n    }, function () {\n        return Q(object).inspect();\n    });\n}\n\n/**\n * Spreads the values of a promised array of arguments into the\n * fulfillment callback.\n * @param fulfilled callback that receives variadic arguments from the\n * promised array\n * @param rejected callback that receives the exception if the promise\n * is rejected.\n * @returns a promise for the return value or thrown exception of\n * either callback.\n */\nQ.spread = spread;\nfunction spread(value, fulfilled, rejected) {\n    return Q(value).spread(fulfilled, rejected);\n}\n\nPromise.prototype.spread = function (fulfilled, rejected) {\n    return this.all().then(function (array) {\n        return fulfilled.apply(void 0, array);\n    }, rejected);\n};\n\n/**\n * The async function is a decorator for generator functions, turning\n * them into asynchronous generators.  Although generators are only part\n * of the newest ECMAScript 6 drafts, this code does not cause syntax\n * errors in older engines.  This code should continue to work and will\n * in fact improve over time as the language improves.\n *\n * ES6 generators are currently part of V8 version 3.19 with the\n * --harmony-generators runtime flag enabled.  SpiderMonkey has had them\n * for longer, but under an older Python-inspired form.  This function\n * works on both kinds of generators.\n *\n * Decorates a generator function such that:\n *  - it may yield promises\n *  - execution will continue when that promise is fulfilled\n *  - the value of the yield expression will be the fulfilled value\n *  - it returns a promise for the return value (when the generator\n *    stops iterating)\n *  - the decorated function returns a promise for the return value\n *    of the generator or the first rejected promise among those\n *    yielded.\n *  - if an error is thrown in the generator, it propagates through\n *    every following yield until it is caught, or until it escapes\n *    the generator function altogether, and is translated into a\n *    rejection for the promise returned by the decorated generator.\n */\nQ.async = async;\nfunction async(makeGenerator) {\n    return function () {\n        // when verb is \"send\", arg is a value\n        // when verb is \"throw\", arg is an exception\n        function continuer(verb, arg) {\n            var result;\n\n            // Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only\n            // engine that has a deployed base of browsers that support generators.\n            // However, SM's generators use the Python-inspired semantics of\n            // outdated ES6 drafts.  We would like to support ES6, but we'd also\n            // like to make it possible to use generators in deployed browsers, so\n            // we also support Python-style generators.  At some point we can remove\n            // this block.\n\n            if (typeof StopIteration === \"undefined\") {\n                // ES6 Generators\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    return reject(exception);\n                }\n                if (result.done) {\n                    return Q(result.value);\n                } else {\n                    return when(result.value, callback, errback);\n                }\n            } else {\n                // SpiderMonkey Generators\n                // FIXME: Remove this case when SM does ES6 generators.\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    if (isStopIteration(exception)) {\n                        return Q(exception.value);\n                    } else {\n                        return reject(exception);\n                    }\n                }\n                return when(result, callback, errback);\n            }\n        }\n        var generator = makeGenerator.apply(this, arguments);\n        var callback = continuer.bind(continuer, \"next\");\n        var errback = continuer.bind(continuer, \"throw\");\n        return callback();\n    };\n}\n\n/**\n * The spawn function is a small wrapper around async that immediately\n * calls the generator and also ends the promise chain, so that any\n * unhandled errors are thrown instead of forwarded to the error\n * handler. This is useful because it's extremely common to run\n * generators at the top-level to work with libraries.\n */\nQ.spawn = spawn;\nfunction spawn(makeGenerator) {\n    Q.done(Q.async(makeGenerator)());\n}\n\n// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.\n/**\n * Throws a ReturnValue exception to stop an asynchronous generator.\n *\n * This interface is a stop-gap measure to support generator return\n * values in older Firefox/SpiderMonkey.  In browsers that support ES6\n * generators like Chromium 29, just use \"return\" in your generator\n * functions.\n *\n * @param value the return value for the surrounding generator\n * @throws ReturnValue exception with the value.\n * @example\n * // ES6 style\n * Q.async(function* () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      return foo + bar;\n * })\n * // Older SpiderMonkey style\n * Q.async(function () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      Q.return(foo + bar);\n * })\n */\nQ[\"return\"] = _return;\nfunction _return(value) {\n    throw new QReturnValue(value);\n}\n\n/**\n * The promised function decorator ensures that any promise arguments\n * are settled and passed as values (`this` is also settled and passed\n * as a value).  It will also ensure that the result of a function is\n * always a promise.\n *\n * @example\n * var add = Q.promised(function (a, b) {\n *     return a + b;\n * });\n * add(Q(a), Q(B));\n *\n * @param {function} callback The function to decorate\n * @returns {function} a function that has been decorated.\n */\nQ.promised = promised;\nfunction promised(callback) {\n    return function () {\n        return spread([this, all(arguments)], function (self, args) {\n            return callback.apply(self, args);\n        });\n    };\n}\n\n/**\n * sends a message to a value in a future turn\n * @param object* the recipient\n * @param op the name of the message operation, e.g., \"when\",\n * @param args further arguments to be forwarded to the operation\n * @returns result {Promise} a promise for the result of the operation\n */\nQ.dispatch = dispatch;\nfunction dispatch(object, op, args) {\n    return Q(object).dispatch(op, args);\n}\n\nPromise.prototype.dispatch = function (op, args) {\n    var self = this;\n    var deferred = defer();\n    Q.nextTick(function () {\n        self.promiseDispatch(deferred.resolve, op, args);\n    });\n    return deferred.promise;\n};\n\n/**\n * Gets the value of a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to get\n * @return promise for the property value\n */\nQ.get = function (object, key) {\n    return Q(object).dispatch(\"get\", [key]);\n};\n\nPromise.prototype.get = function (key) {\n    return this.dispatch(\"get\", [key]);\n};\n\n/**\n * Sets the value of a property in a future turn.\n * @param object    promise or immediate reference for object object\n * @param name      name of property to set\n * @param value     new value of property\n * @return promise for the return value\n */\nQ.set = function (object, key, value) {\n    return Q(object).dispatch(\"set\", [key, value]);\n};\n\nPromise.prototype.set = function (key, value) {\n    return this.dispatch(\"set\", [key, value]);\n};\n\n/**\n * Deletes a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to delete\n * @return promise for the return value\n */\nQ.del = // XXX legacy\nQ[\"delete\"] = function (object, key) {\n    return Q(object).dispatch(\"delete\", [key]);\n};\n\nPromise.prototype.del = // XXX legacy\nPromise.prototype[\"delete\"] = function (key) {\n    return this.dispatch(\"delete\", [key]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param value     a value to post, typically an array of\n *                  invocation arguments for promises that\n *                  are ultimately backed with `resolve` values,\n *                  as opposed to those backed with URLs\n *                  wherein the posted value can be any\n *                  JSON serializable object.\n * @return promise for the return value\n */\n// bound locally because it is used by other methods\nQ.mapply = // XXX As proposed by \"Redsandro\"\nQ.post = function (object, name, args) {\n    return Q(object).dispatch(\"post\", [name, args]);\n};\n\nPromise.prototype.mapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.post = function (name, args) {\n    return this.dispatch(\"post\", [name, args]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param ...args   array of invocation arguments\n * @return promise for the return value\n */\nQ.send = // XXX Mark Miller's proposed parlance\nQ.mcall = // XXX As proposed by \"Redsandro\"\nQ.invoke = function (object, name /*...args*/) {\n    return Q(object).dispatch(\"post\", [name, array_slice(arguments, 2)]);\n};\n\nPromise.prototype.send = // XXX Mark Miller's proposed parlance\nPromise.prototype.mcall = // XXX As proposed by \"Redsandro\"\nPromise.prototype.invoke = function (name /*...args*/) {\n    return this.dispatch(\"post\", [name, array_slice(arguments, 1)]);\n};\n\n/**\n * Applies the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param args      array of application arguments\n */\nQ.fapply = function (object, args) {\n    return Q(object).dispatch(\"apply\", [void 0, args]);\n};\n\nPromise.prototype.fapply = function (args) {\n    return this.dispatch(\"apply\", [void 0, args]);\n};\n\n/**\n * Calls the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ[\"try\"] =\nQ.fcall = function (object /* ...args*/) {\n    return Q(object).dispatch(\"apply\", [void 0, array_slice(arguments, 1)]);\n};\n\nPromise.prototype.fcall = function (/*...args*/) {\n    return this.dispatch(\"apply\", [void 0, array_slice(arguments)]);\n};\n\n/**\n * Binds the promised function, transforming return values into a fulfilled\n * promise and thrown errors into a rejected one.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ.fbind = function (object /*...args*/) {\n    var promise = Q(object);\n    var args = array_slice(arguments, 1);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\nPromise.prototype.fbind = function (/*...args*/) {\n    var promise = this;\n    var args = array_slice(arguments);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\n\n/**\n * Requests the names of the owned properties of a promised\n * object in a future turn.\n * @param object    promise or immediate reference for target object\n * @return promise for the keys of the eventually settled object\n */\nQ.keys = function (object) {\n    return Q(object).dispatch(\"keys\", []);\n};\n\nPromise.prototype.keys = function () {\n    return this.dispatch(\"keys\", []);\n};\n\n/**\n * Turns an array of promises into a promise for an array.  If any of\n * the promises gets rejected, the whole array is rejected immediately.\n * @param {Array*} an array (or promise for an array) of values (or\n * promises for values)\n * @returns a promise for an array of the corresponding values\n */\n// By Mark Miller\n// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled\nQ.all = all;\nfunction all(promises) {\n    return when(promises, function (promises) {\n        var pendingCount = 0;\n        var deferred = defer();\n        array_reduce(promises, function (undefined, promise, index) {\n            var snapshot;\n            if (\n                isPromise(promise) &&\n                (snapshot = promise.inspect()).state === \"fulfilled\"\n            ) {\n                promises[index] = snapshot.value;\n            } else {\n                ++pendingCount;\n                when(\n                    promise,\n                    function (value) {\n                        promises[index] = value;\n                        if (--pendingCount === 0) {\n                            deferred.resolve(promises);\n                        }\n                    },\n                    deferred.reject,\n                    function (progress) {\n                        deferred.notify({ index: index, value: progress });\n                    }\n                );\n            }\n        }, void 0);\n        if (pendingCount === 0) {\n            deferred.resolve(promises);\n        }\n        return deferred.promise;\n    });\n}\n\nPromise.prototype.all = function () {\n    return all(this);\n};\n\n/**\n * Returns the first resolved promise of an array. Prior rejected promises are\n * ignored.  Rejects only if all promises are rejected.\n * @param {Array*} an array containing values or promises for values\n * @returns a promise fulfilled with the value of the first resolved promise,\n * or a rejected promise if all promises are rejected.\n */\nQ.any = any;\n\nfunction any(promises) {\n    if (promises.length === 0) {\n        return Q.resolve();\n    }\n\n    var deferred = Q.defer();\n    var pendingCount = 0;\n    array_reduce(promises, function (prev, current, index) {\n        var promise = promises[index];\n\n        pendingCount++;\n\n        when(promise, onFulfilled, onRejected, onProgress);\n        function onFulfilled(result) {\n            deferred.resolve(result);\n        }\n        function onRejected(err) {\n            pendingCount--;\n            if (pendingCount === 0) {\n                var rejection = err || new Error(\"\" + err);\n\n                rejection.message = (\"Q can't get fulfillment value from any promise, all \" +\n                    \"promises were rejected. Last error message: \" + rejection.message);\n\n                deferred.reject(rejection);\n            }\n        }\n        function onProgress(progress) {\n            deferred.notify({\n                index: index,\n                value: progress\n            });\n        }\n    }, undefined);\n\n    return deferred.promise;\n}\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n/**\n * Waits for all promises to be settled, either fulfilled or\n * rejected.  This is distinct from `all` since that would stop\n * waiting at the first rejection.  The promise returned by\n * `allResolved` will never be rejected.\n * @param promises a promise for an array (or an array) of promises\n * (or values)\n * @return a promise for an array of promises\n */\nQ.allResolved = deprecate(allResolved, \"allResolved\", \"allSettled\");\nfunction allResolved(promises) {\n    return when(promises, function (promises) {\n        promises = array_map(promises, Q);\n        return when(all(array_map(promises, function (promise) {\n            return when(promise, noop, noop);\n        })), function () {\n            return promises;\n        });\n    });\n}\n\nPromise.prototype.allResolved = function () {\n    return allResolved(this);\n};\n\n/**\n * @see Promise#allSettled\n */\nQ.allSettled = allSettled;\nfunction allSettled(promises) {\n    return Q(promises).allSettled();\n}\n\n/**\n * Turns an array of promises into a promise for an array of their states (as\n * returned by `inspect`) when they have all settled.\n * @param {Array[Any*]} values an array (or promise for an array) of values (or\n * promises for values)\n * @returns {Array[State]} an array of states for the respective values.\n */\nPromise.prototype.allSettled = function () {\n    return this.then(function (promises) {\n        return all(array_map(promises, function (promise) {\n            promise = Q(promise);\n            function regardless() {\n                return promise.inspect();\n            }\n            return promise.then(regardless, regardless);\n        }));\n    });\n};\n\n/**\n * Captures the failure of a promise, giving an oportunity to recover\n * with a callback.  If the given promise is fulfilled, the returned\n * promise is fulfilled.\n * @param {Any*} promise for something\n * @param {Function} callback to fulfill the returned promise if the\n * given promise is rejected\n * @returns a promise for the return value of the callback\n */\nQ.fail = // XXX legacy\nQ[\"catch\"] = function (object, rejected) {\n    return Q(object).then(void 0, rejected);\n};\n\nPromise.prototype.fail = // XXX legacy\nPromise.prototype[\"catch\"] = function (rejected) {\n    return this.then(void 0, rejected);\n};\n\n/**\n * Attaches a listener that can respond to progress notifications from a\n * promise's originating deferred. This listener receives the exact arguments\n * passed to ``deferred.notify``.\n * @param {Any*} promise for something\n * @param {Function} callback to receive any progress notifications\n * @returns the given promise, unchanged\n */\nQ.progress = progress;\nfunction progress(object, progressed) {\n    return Q(object).then(void 0, void 0, progressed);\n}\n\nPromise.prototype.progress = function (progressed) {\n    return this.then(void 0, void 0, progressed);\n};\n\n/**\n * Provides an opportunity to observe the settling of a promise,\n * regardless of whether the promise is fulfilled or rejected.  Forwards\n * the resolution to the returned promise when the callback is done.\n * The callback can return a promise to defer completion.\n * @param {Any*} promise\n * @param {Function} callback to observe the resolution of the given\n * promise, takes no arguments.\n * @returns a promise for the resolution of the given promise when\n * ``fin`` is done.\n */\nQ.fin = // XXX legacy\nQ[\"finally\"] = function (object, callback) {\n    return Q(object)[\"finally\"](callback);\n};\n\nPromise.prototype.fin = // XXX legacy\nPromise.prototype[\"finally\"] = function (callback) {\n    if (!callback || typeof callback.apply !== \"function\") {\n        throw new Error(\"Q can't apply finally callback\");\n    }\n    callback = Q(callback);\n    return this.then(function (value) {\n        return callback.fcall().then(function () {\n            return value;\n        });\n    }, function (reason) {\n        // TODO attempt to recycle the rejection with \"this\".\n        return callback.fcall().then(function () {\n            throw reason;\n        });\n    });\n};\n\n/**\n * Terminates a chain of promises, forcing rejections to be\n * thrown as exceptions.\n * @param {Any*} promise at the end of a chain of promises\n * @returns nothing\n */\nQ.done = function (object, fulfilled, rejected, progress) {\n    return Q(object).done(fulfilled, rejected, progress);\n};\n\nPromise.prototype.done = function (fulfilled, rejected, progress) {\n    var onUnhandledError = function (error) {\n        // forward to a future turn so that ``when``\n        // does not catch it and turn it into a rejection.\n        Q.nextTick(function () {\n            makeStackTraceLong(error, promise);\n            if (Q.onerror) {\n                Q.onerror(error);\n            } else {\n                throw error;\n            }\n        });\n    };\n\n    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.\n    var promise = fulfilled || rejected || progress ?\n        this.then(fulfilled, rejected, progress) :\n        this;\n\n    if (typeof process === \"object\" && process && process.domain) {\n        onUnhandledError = process.domain.bind(onUnhandledError);\n    }\n\n    promise.then(void 0, onUnhandledError);\n};\n\n/**\n * Causes a promise to be rejected if it does not get fulfilled before\n * some milliseconds time out.\n * @param {Any*} promise\n * @param {Number} milliseconds timeout\n * @param {Any*} custom error message or Error object (optional)\n * @returns a promise for the resolution of the given promise if it is\n * fulfilled before the timeout, otherwise rejected.\n */\nQ.timeout = function (object, ms, error) {\n    return Q(object).timeout(ms, error);\n};\n\nPromise.prototype.timeout = function (ms, error) {\n    var deferred = defer();\n    var timeoutId = setTimeout(function () {\n        if (!error || \"string\" === typeof error) {\n            error = new Error(error || \"Timed out after \" + ms + \" ms\");\n            error.code = \"ETIMEDOUT\";\n        }\n        deferred.reject(error);\n    }, ms);\n\n    this.then(function (value) {\n        clearTimeout(timeoutId);\n        deferred.resolve(value);\n    }, function (exception) {\n        clearTimeout(timeoutId);\n        deferred.reject(exception);\n    }, deferred.notify);\n\n    return deferred.promise;\n};\n\n/**\n * Returns a promise for the given value (or promised value), some\n * milliseconds after it resolved. Passes rejections immediately.\n * @param {Any*} promise\n * @param {Number} milliseconds\n * @returns a promise for the resolution of the given promise after milliseconds\n * time has elapsed since the resolution of the given promise.\n * If the given promise rejects, that is passed immediately.\n */\nQ.delay = function (object, timeout) {\n    if (timeout === void 0) {\n        timeout = object;\n        object = void 0;\n    }\n    return Q(object).delay(timeout);\n};\n\nPromise.prototype.delay = function (timeout) {\n    return this.then(function (value) {\n        var deferred = defer();\n        setTimeout(function () {\n            deferred.resolve(value);\n        }, timeout);\n        return deferred.promise;\n    });\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided as an array, and returns a promise.\n *\n *      Q.nfapply(FS.readFile, [__filename])\n *      .then(function (content) {\n *      })\n *\n */\nQ.nfapply = function (callback, args) {\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfapply = function (args) {\n    var deferred = defer();\n    var nodeArgs = array_slice(args);\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided individually, and returns a promise.\n * @example\n * Q.nfcall(FS.readFile, __filename)\n * .then(function (content) {\n * })\n *\n */\nQ.nfcall = function (callback /*...args*/) {\n    var args = array_slice(arguments, 1);\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfcall = function (/*...args*/) {\n    var nodeArgs = array_slice(arguments);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Wraps a NodeJS continuation passing function and returns an equivalent\n * version that returns a promise.\n * @example\n * Q.nfbind(FS.readFile, __filename)(\"utf-8\")\n * .then(console.log)\n * .done()\n */\nQ.nfbind =\nQ.denodeify = function (callback /*...args*/) {\n    if (callback === undefined) {\n        throw new Error(\"Q can't wrap an undefined function\");\n    }\n    var baseArgs = array_slice(arguments, 1);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        Q(callback).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nfbind =\nPromise.prototype.denodeify = function (/*...args*/) {\n    var args = array_slice(arguments);\n    args.unshift(this);\n    return Q.denodeify.apply(void 0, args);\n};\n\nQ.nbind = function (callback, thisp /*...args*/) {\n    var baseArgs = array_slice(arguments, 2);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        function bound() {\n            return callback.apply(thisp, arguments);\n        }\n        Q(bound).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nbind = function (/*thisp, ...args*/) {\n    var args = array_slice(arguments, 0);\n    args.unshift(this);\n    return Q.nbind.apply(void 0, args);\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback with a given array of arguments, plus a provided callback.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param {Array} args arguments to pass to the method; the callback\n * will be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nmapply = // XXX As proposed by \"Redsandro\"\nQ.npost = function (object, name, args) {\n    return Q(object).npost(name, args);\n};\n\nPromise.prototype.nmapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.npost = function (name, args) {\n    var nodeArgs = array_slice(args || []);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback, forwarding the given variadic arguments, plus a provided\n * callback argument.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param ...args arguments to pass to the method; the callback will\n * be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nsend = // XXX Based on Mark Miller's proposed \"send\"\nQ.nmcall = // XXX Based on \"Redsandro's\" proposal\nQ.ninvoke = function (object, name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 2);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    Q(object).dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\nPromise.prototype.nsend = // XXX Based on Mark Miller's proposed \"send\"\nPromise.prototype.nmcall = // XXX Based on \"Redsandro's\" proposal\nPromise.prototype.ninvoke = function (name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 1);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * If a function would like to support both Node continuation-passing-style and\n * promise-returning-style, it can end its internal promise chain with\n * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user\n * elects to use a nodeback, the result will be sent there.  If they do not\n * pass a nodeback, they will receive the result promise.\n * @param object a result (or a promise for a result)\n * @param {Function} nodeback a Node.js-style callback\n * @returns either the promise or nothing\n */\nQ.nodeify = nodeify;\nfunction nodeify(object, nodeback) {\n    return Q(object).nodeify(nodeback);\n}\n\nPromise.prototype.nodeify = function (nodeback) {\n    if (nodeback) {\n        this.then(function (value) {\n            Q.nextTick(function () {\n                nodeback(null, value);\n            });\n        }, function (error) {\n            Q.nextTick(function () {\n                nodeback(error);\n            });\n        });\n    } else {\n        return this;\n    }\n};\n\nQ.noConflict = function() {\n    throw new Error(\"Q.noConflict only works when Q is used as a global\");\n};\n\n// All code before this point will be filtered from stack traces.\nvar qEndingLine = captureLine();\n\nreturn Q;\n\n});\n","import { global } from \"./global.js\";\r\n\r\nfunction loop() {\r\n  global.scene.render();\r\n}\r\n\r\nexport function start() {\r\n  isStarted = true;\r\n  global.engine.runRenderLoop(loop);\r\n}\r\n\r\nexport function pause() {\r\n  isStarted = false;\r\n  global.engine.stopRenderLoop(loop);\r\n}\r\n\r\nexport let isStarted = false;","import { is } from \"./is.js\";\r\nimport { select } from \"./select.js\";\r\nimport \"../node_modules/q/q.js\";\r\nimport { global } from \"./global.js\";\r\nimport { start, isStarted } from \"./renderLoop.js\";\r\n\r\ndeclare const Q;\r\n\r\nexport function patch(...args) : Q.Promise<any> {\r\n  if (args.length == 1) {\r\n    if (is.PatchFile(args[0])) {\r\n      if (global.TRACE) {\r\n          console.groupCollapsed(args[0]);\r\n      }\r\n      return downloadPatchFile(args[0]).then((data) => {\r\n        return patch(data).then(() => {\r\n          console.groupEnd();\r\n        });\r\n      });\r\n    }\r\n    else {\r\n      // patch([...])\r\n      if (is.Array(args[0])) {\r\n        return Q(patchChain(args[0]));\r\n      }\r\n      else {\r\n        // patch({\"*:mesh\" : { isVisible : false }})\r\n        if (is.PlainObject(args[0])) {\r\n          let selector = Object.getOwnPropertyNames(args[0])[0];\r\n          return Q(patch(selector, args[0][selector]));\r\n        }\r\n      }\r\n    }\r\n  }\r\n  else {\r\n    if (is.String(args[0])) {\r\n      if (global.TRACE) {\r\n        console.groupCollapsed(args[0]);\r\n      }\r\n      // patch(\"*:mesh\", { position : { x : 10}}\r\n      switch (args[0]) {\r\n        case \"scene\" :\r\n          if (is.Function(args[1])) {\r\n            let result = execute(args[1]);\r\n            if (is.Scene(result)) {\r\n              global.scene = result;\r\n            }\r\n            if (!isStarted) {\r\n              window.addEventListener('resize', function() {\r\n                global.engine.resize();\r\n              });\r\n              start();\r\n            }\r\n            if (global.TRACE) {\r\n              console.groupEnd();\r\n            }\r\n            return Q(global.scene);\r\n          }\r\n          else {\r\n            let result = patchElement(global.scene, args[1]);\r\n            if (is.Promise(result)) {\r\n              return result.then(() => {\r\n                if (global.TRACE) {\r\n                  console.groupEnd();\r\n                }\r\n              });\r\n            }\r\n            else {\r\n              return result;\r\n            }\r\n          }\r\n        case \"exec\":\r\n          if (global.TRACE) {\r\n            console.groupEnd();\r\n          }\r\n          return Q(execute(args[1]));\r\n        default:\r\n          let elements = select(args[0]).toArray();\r\n          let result =  patchElements(elements, args[1]);\r\n          if (is.Promise(result)) {\r\n            return result.then(() => {\r\n              if (global.TRACE) {\r\n                console.groupEnd();\r\n              }\r\n            });\r\n          }\r\n          else {\r\n            if (global.TRACE) {\r\n              console.groupEnd();\r\n            }\r\n            return Q();\r\n          }\r\n      }\r\n    }\r\n    else {\r\n      // patch(mesh1, { isVisible : false })\r\n      return Q(patchElement(args[0], args[1]));\r\n    }\r\n  }\r\n}\r\n\r\nexport function execute(func) : any {\r\n  try {\r\n    if (global.TRACE) {\r\n      console.log(func);\r\n    }\r\n    let result = eval(\"var canvas=_r.canvas; var engine = _r.engine; var scene=_r.scene; var exec=\" + func + ';exec()');\r\n    return result;\r\n  }\r\n  catch (ex) {\r\n    console.error(ex);\r\n  }\r\n}\r\n\r\nexport function patchChain(patches : Array<any>) : Q.Promise<null> {\r\n  let index = 0;\r\n  function patchItem() : Q.Promise<null> {\r\n      if (index === patches.length) {\r\n        return;\r\n      }\r\n      else {\r\n        let result = patch(patches[index]);\r\n        if (is.Promise(result)) {\r\n          return result.then(() => {\r\n            index += 1;\r\n            return patchItem();\r\n          });\r\n        }\r\n        else {\r\n          index += 1;\r\n          return patchItem();\r\n        }\r\n      }\r\n  }\r\n  return patchItem();\r\n}\r\n\r\nexport function downloadPatchFile(file : string) : Q.Promise<Array<any>> {\r\n  let deferred = Q.defer();\r\n  let xhr = new XMLHttpRequest();\r\n  xhr.open(\"get\", file, true);\r\n  xhr.onload = function() {\r\n    let status = xhr.status;\r\n    if (status == 200) {\r\n      let data;\r\n      let isJson = false;\r\n      try {\r\n        data = JSON.parse(xhr.response);\r\n        isJson = true;\r\n      }\r\n      catch (error) {\r\n        isJson = false;\r\n      }\r\n      if (!isJson) {\r\n        try {\r\n          data = window[\"eval\"].call(window, xhr.response);\r\n        }\r\n        catch (error) {\r\n          let __patch;\r\n          eval('var __patch = ' + xhr.response);\r\n          data = __patch;\r\n        }\r\n      }\r\n      if (data) {\r\n        deferred.resolve(data);\r\n      }\r\n      else {\r\n        console.warn('BABYLON.Runtime::no data found in ' + file);\r\n        deferred.resolve([{}]);\r\n      }\r\n\r\n    } else {\r\n      deferred.reject(status);\r\n    }\r\n  };\r\n  xhr.send();\r\n  return deferred.promise;\r\n}\r\n\r\nexport function patchElements(elements : Array<any>, _patch : any, context? : Array<any>) : Q.Promise<null> {\r\n  let names = [];\r\n  if (global.TRACE) {\r\n    elements.forEach((element) => {\r\n      names.push(element.name);\r\n    });\r\n    console.log(names.join(','));\r\n    console.log(_patch);\r\n  }\r\n\r\n  let index = 0;\r\n  function patchElementChain() : Q.Promise<null> {\r\n    if (index === elements.length) {\r\n      return;\r\n    }\r\n    else {\r\n      let result = patchElement(elements[index], _patch, context);\r\n      if (is.Promise(result)) {\r\n        return result.then(() => {\r\n          index += 1;\r\n          return patchElementChain();\r\n        });\r\n      }\r\n      else {\r\n        index += 1;\r\n        return patchElementChain();\r\n      }\r\n    }\r\n  }\r\n  return patchElementChain();\r\n}\r\n\r\nexport function patchElement(element, patch, context? : Array<any>) : any {\r\n  let properties = Object.getOwnPropertyNames(patch);\r\n  let index = 0;\r\n  if (!context) {\r\n    context = [ element ];\r\n  }\r\n  function patchPropertyChain() : any {\r\n    if (index === properties.length) {\r\n      return;\r\n    }\r\n    else {\r\n      let result = patchProperty(element, properties[index], patch, context);\r\n      if (is.Promise(result)) {\r\n        return result.then(() => {\r\n          index += 1;\r\n          return patchPropertyChain();\r\n        });\r\n      }\r\n      else {\r\n        index += 1;\r\n        return patchPropertyChain();\r\n      }\r\n    }\r\n  }\r\n  return patchPropertyChain();\r\n}\r\n\r\nexport function patchProperty(element, property, source, context? : Array<any>) : Q.Promise<any> {\r\n  if (is.Primitive(source[property])) {\r\n    let plugin = patch.getPlugin(element, source, property);\r\n    if (plugin) {\r\n      let result = plugin.resolve(element, source, property);\r\n      if (result) {\r\n        if (is.Promise(result)) {\r\n          return result.then((_result) => {\r\n            element[property] = _result;\r\n            return element[property];\r\n          });\r\n        }\r\n        else {\r\n          return element[property] = result;\r\n        }\r\n      }\r\n      else {\r\n        return source[property];\r\n      }\r\n    }\r\n    else {\r\n      element[property] = source[property];\r\n      return element[property];\r\n    }\r\n  }\r\n  else {\r\n    if (is.Function(source[property])) {\r\n      if (is.Function(element[property])) {\r\n        return element[property] = source[property];\r\n      }\r\n      else {\r\n        try {\r\n          if (context) {\r\n            context.push(element);\r\n          }\r\n          else {\r\n            context = [element];\r\n          }\r\n          let res = source[property].apply(element, context);\r\n          if (is.Promise(res)) {\r\n            return res.then(function(result) {\r\n              element[property] = result;\r\n              return element[property];\r\n            });\r\n          }\r\n          else {\r\n            if (res) {\r\n              return element[property] = res;\r\n            }\r\n            else {\r\n              return element[property];\r\n            }\r\n          }\r\n        }\r\n        catch (ex) {\r\n          console.error(ex);\r\n          return Q.reject(ex);\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      if (is.Promise(source[property])) {\r\n        return source[property].then((_result) => {\r\n          element[property] = _result;\r\n          return element[property];\r\n        });\r\n      }\r\n      if (!element[property]) {\r\n        element[property] = {};\r\n      }\r\n      let plugin = patch.getPlugin(element, source, property);\r\n      if (plugin) {\r\n        let result = plugin.resolve(element, source, property);\r\n        if (result) {\r\n          if (is.Promise(result)) {\r\n            return result.then((_result) => {\r\n              element[property] = _result;\r\n              return element[property];\r\n            });\r\n          }\r\n          else {\r\n            return element[property] = result;\r\n          }\r\n        }\r\n        else {\r\n          return source[property];\r\n        }\r\n\r\n      }\r\n      else {\r\n        if (context) {\r\n          context.push(element);\r\n        }\r\n        else {\r\n          context = [element];\r\n        }\r\n        return patchElement(element[property], source[property], context);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport namespace patch {\r\n  export let plugins : Array<IPatchPlugin> = [];\r\n  export interface IPatchPlugin {\r\n    test : (element, source, property) => boolean;\r\n    resolve : (element, source, property) => any;\r\n  }\r\n  export function registerPlugin(plugin : IPatchPlugin) {\r\n    plugins.push(plugin);\r\n  }\r\n  export function getPlugin(element, source, property) : IPatchPlugin | null {\r\n    let plugin = null;\r\n    for (let i = 0; i < plugins.length; i++) {\r\n      if (plugins[i].test(element, source, property)) {\r\n        plugin = plugins[i];\r\n      }\r\n    }\r\n    return plugin;\r\n  }\r\n}\r\n\r\nglobal.fn[\"patch\"] = function(options) {\r\n  return patchElements(this.toArray(), options);\r\n};","import { global } from \"./global.js\";\r\nimport { createLibrary } from \"./library.js\";\r\nimport { patch } from \"./patch.js\";\r\n\r\nexport interface IDownloadAsyncOptions {\r\n  loadingScreen? : boolean;\r\n  ready? : Function;\r\n  progress? : Function;\r\n  error? : Function;\r\n}\r\n\r\nexport interface IDownloadSceneOptions extends IDownloadAsyncOptions{\r\n  scene? : string;\r\n  assets? : string;\r\n  patch? : any;\r\n  addAllToScene? : boolean;\r\n}\r\n\r\nexport interface IDownloadTextureOptions extends IDownloadAsyncOptions{\r\n  url? : string;\r\n  name? : string;\r\n  noMipmap? : boolean;\r\n  invertY? : boolean;\r\n  samplingMode? : number;\r\n}\r\n\r\nexport interface IDownloadCubeTextureOptions extends IDownloadAsyncOptions{\r\n  name? : string;\r\n  url? : string;\r\n  extensions? : string[];\r\n  noMipmap? : boolean;\r\n  files? : string[];\r\n}\r\n\r\nexport function downloadScene(options : IDownloadSceneOptions) {\r\n  let assets, fileName;\r\n  if (options.assets) {\r\n    assets = options.assets;\r\n    fileName = options.scene;\r\n  }\r\n  else {\r\n    fileName = options.scene.split('/').pop();\r\n    assets = options.scene.replace(fileName, '');\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    BABYLON.SceneLoader.LoadAssetContainerAsync(assets, fileName, global.scene, function(e) {\r\n      if (options.progress) {\r\n        options.progress(e);\r\n      }\r\n    }).then(function(assetContainer) {\r\n      // success\r\n      createLibrary(assets + fileName, assetContainer);\r\n      if (options.patch) {\r\n        try {\r\n          console.log(\"patching\", options.patch);\r\n          patch(options.patch).then(function() {\r\n            if (options.addAllToScene !== false) {\r\n              assetContainer.addAllToScene();\r\n            }\r\n            if (options.ready) {\r\n              options.ready(assetContainer);\r\n            }\r\n            resolve(assetContainer);\r\n          });\r\n        }\r\n        catch (ex) {\r\n          reject(ex);\r\n        }\r\n      }\r\n      else {\r\n        if (options.addAllToScene !== false) {\r\n          assetContainer.addAllToScene();\r\n        }\r\n        if (options.ready) {\r\n          options.ready(assetContainer);\r\n        }\r\n        resolve(assetContainer);\r\n      }\r\n    }, function(reason) {\r\n      // error\r\n      if (options.error) {\r\n        options.error(reason);\r\n        reject(reason);\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nexport function downloadTexture(options : IDownloadTextureOptions) {\r\n  return new Promise((resolve, reject) => {\r\n    let assetsManager = new BABYLON.AssetsManager(global.scene);\r\n    let task = assetsManager.addTextureTask(options.name, options.url, options.noMipmap, options.invertY, options.samplingMode);\r\n    task.onSuccess = function(task) {\r\n      resolve(task.texture);\r\n      if (options.ready) {\r\n        options.ready(task.texture);\r\n      }\r\n    };\r\n    task.onError = function(reason) {\r\n      reject(reason);\r\n      if (options.error) {\r\n        options.error(reason);\r\n      }\r\n    };\r\n    assetsManager.load();\r\n  });\r\n}\r\n\r\nexport function downloadCubeTexture(options : IDownloadCubeTextureOptions) {\r\n  return new Promise((resolve, reject) => {\r\n    let assetsManager = new BABYLON.AssetsManager(global.scene);\r\n    let task = assetsManager.addCubeTextureTask(options.name, options.url, options.extensions, options.noMipmap, options.files);\r\n    task.onSuccess = function(task) {\r\n      resolve(task.texture);\r\n      if (options.ready) {\r\n        options.ready(task.texture);\r\n      }\r\n    };\r\n    task.onError = function(reason) {\r\n      reject(reason);\r\n      if (options.error) {\r\n        options.error(reason);\r\n      }\r\n    };\r\n    assetsManager.load();\r\n  });\r\n}\r\n","import { is } from \"./is.js\";\r\nimport { extend }  from \"./util/extend.js\";\r\nimport { global } from \"./global.js\";\r\nimport { activateCamera } from \"./activateCamera.js\";\r\nimport { downloadScene } from \"./download.js\";\r\nimport { patch } from \"./patch.js\";\r\n\r\nlet isReady = true;\r\nlet callbacks = [];\r\n\r\nexport interface IRuntimeLoading {\r\n  canvas?: string | HTMLCanvasElement;\r\n  assets?: string;\r\n  scene: Function | string;\r\n  activeCamera?: Function | string | any;\r\n  patch?: Array<any>;\r\n  beforeFirstRender?: Function;\r\n  ktx?: boolean | Array<string>;\r\n  enableOfflineSupport?: boolean;\r\n  progress?: Function;\r\n  loadingScreen?: any;\r\n}\r\n\r\nlet options : IRuntimeLoading = {\r\n  canvas : null,\r\n  assets : null,\r\n  scene : null,\r\n  activeCamera : null,\r\n  patch : null,\r\n  ktx : false,\r\n  enableOfflineSupport : false,\r\n  progress: null,\r\n  loadingScreen: null,\r\n};\r\n\r\nexport function launch(obj: IRuntimeLoading | string) : Promise<BABYLON.Scene> {\r\n  isReady = false;\r\n  options = extend(options, obj);\r\n  // CANVAS\r\n  if (options.canvas) {\r\n    global.canvas = options.canvas;\r\n  }\r\n  // KTX\r\n  if (options.ktx) {\r\n    if (is.Array(options.ktx)) {\r\n      global.engine.setTextureFormatToUse(<string[]> options.ktx);\r\n    }\r\n    else {\r\n      if (options.ktx === true) {\r\n        global.engine.setTextureFormatToUse(['-astc.ktx', '-dxt.ktx', '-pvrtc.ktx', '-etc2.ktx']);\r\n      }\r\n    }\r\n  }\r\n  // ENABLE OFFLINE SUPPORT\r\n  if (options.enableOfflineSupport) {\r\n    global.engine.enableOfflineSupport = options.enableOfflineSupport;\r\n  }\r\n  else {\r\n    global.engine.enableOfflineSupport = false;\r\n  }\r\n  // LOADING SCREEN\r\n  if (options.loadingScreen) {\r\n    global.engine.loadingScreen = options.loadingScreen;\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    _createScene().then(() => {\r\n      _patch().then(() => {\r\n        _checkActiveCamera();\r\n        _beforeFirstRender();\r\n        // RESIZE\r\n        window.addEventListener('resize', function() {\r\n          global.engine.resize();\r\n        });\r\n        start();\r\n        isReady = true;\r\n        callbacks.forEach(function(callback) {\r\n          try {\r\n            callback.call(global.scene);\r\n          }\r\n          catch (ex) {\r\n            console.error(ex);\r\n          }\r\n        });\r\n        callbacks.length = 0;\r\n        resolve(global.scene);\r\n      });\r\n    }, (err) => {\r\n      reject(err);\r\n    });\r\n  });\r\n}\r\n\r\nfunction _createScene() : Promise<any> {\r\n  if (options.scene) {\r\n    if (is.String(options.scene)) {\r\n      // scene is a filename\r\n      if (options.assets) {\r\n        return downloadScene({\r\n          scene: <string>options.scene,\r\n          assets: options.assets,\r\n          progress: options.progress\r\n        });\r\n      } else {\r\n        return downloadScene({\r\n          scene: <string>options.scene,\r\n          progress: options.progress\r\n        });\r\n      }\r\n    } else {\r\n      return new Promise((resolve, reject) => {\r\n        if (is.Function(options.scene)) {\r\n          try {\r\n            let result = eval(\"var canvas=_r.canvas; var engine = _r.engine; var scene=_r.scene; var createScene=\" + options.scene + ';createScene()');\r\n            if (BABYLON.Engine.LastCreatedEngine.scenes.length == 2) {\r\n              BABYLON.Engine.LastCreatedEngine.scenes[0].dispose();\r\n            }\r\n            if (is.Scene(result)) {\r\n              global.scene = result;\r\n            }\r\n            resolve();\r\n          } catch (ex) {\r\n            reject(ex);\r\n            throw ex;\r\n          }\r\n        } else {\r\n          if (is.Scene(options.scene)) {\r\n            global.scene = options.scene;\r\n            resolve();\r\n          } else {\r\n            reject(\"invalid scene parameter in _r.launch\");\r\n            throw new Error(\"invalid scene parameter in _r.launch\");\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nfunction _patch() : Promise<null> {\r\n  return new Promise((resolve, reject) => {\r\n    if (options.patch) {\r\n      patch(options.patch).then((res) => {\r\n        resolve(res);\r\n      }, (err) => {\r\n        reject(err);\r\n      });\r\n    }\r\n    else {\r\n      resolve();\r\n    }\r\n  });\r\n}\r\n\r\nfunction _beforeFirstRender()  {\r\n  if (options.beforeFirstRender && is.Function(options.beforeFirstRender)) {\r\n    options.beforeFirstRender();\r\n  }\r\n}\r\n\r\nfunction _checkActiveCamera() {\r\n  if (is.String(options.activeCamera)) {\r\n    activateCamera(<string> options.activeCamera);\r\n  }\r\n  else {\r\n    if (is.Function(options.activeCamera)) {\r\n      try {\r\n        let camera = (<Function> options.activeCamera).call(global.scene);\r\n        activateCamera(camera.name);\r\n      }\r\n      catch (ex) {\r\n        console.error(\"_r.launch() error on activeCamera\", ex);\r\n      }\r\n    }\r\n    else {\r\n      if (is.Camera(options.activeCamera)) {\r\n        activateCamera(options.activeCamera.name);\r\n      }\r\n    }\r\n  }\r\n  if (!global.scene.activeCamera && global.scene.cameras.length > 0) {\r\n    activateCamera(global.scene.cameras[0].name);\r\n  }\r\n  if (global.scene.activeCamera && global.scene.activeCamera.inputs && !global.scene.activeCamera.inputs.attachedElement) {\r\n    global.scene.activeCamera.attachControl(global.canvas);\r\n  }\r\n}\r\n\r\nfunction loop() {\r\n  global.scene.render();\r\n}\r\n\r\nexport function start() {\r\n  global.engine.runRenderLoop(loop);\r\n}\r\n\r\nexport function pause() {\r\n  global.engine.stopRenderLoop(loop);\r\n}\r\n\r\nexport function ready(callback: Function) {\r\n  if (isReady) {\r\n    callback.call(global.scene);\r\n  }\r\n  else {\r\n    callbacks.push(callback);\r\n  }\r\n}","import { global } from \"../global.js\";\r\nimport { data } from \"../data.js\";\r\nimport { trigger } from \"./core.js\";\r\n\r\nexport const keys = [\r\n  'OnKeyDownTrigger',\r\n  'OnKeyUpTrigger'\r\n];\r\n\r\n// see https://api.jquery.com/category/events/keyboard-events/\r\nexport function onKeyEvent(event : string,  handler: (args: any) => void, repeat = true) {\r\n  if (!global.scene.actionManager) {\r\n    global.scene.actionManager = new BABYLON.ActionManager(global.scene);\r\n  }\r\n  let action = new BABYLON.ExecuteCodeAction(BABYLON.ActionManager[event], (evt) => {\r\n    trigger(global.scene, event, evt);\r\n  });\r\n  global.scene.actionManager.registerAction(action);\r\n  let events = data(global.scene, \"_r.e\");\r\n  if (!events) {\r\n    data(global.scene, \"_r.e\", []);\r\n    events =  data(global.scene, \"_r.e\");\r\n  }\r\n  if (!events[event]) {\r\n    events[event] = [];\r\n  }\r\n  events[event].push({\r\n    handler: handler,\r\n    repeat: repeat,\r\n    action: action\r\n  });\r\n}\r\n\r\nexport function oneKeyEvent(event : string, handler: (args: any) => void) {\r\n  onKeyEvent(event, handler, false);\r\n}\r\n\r\nexport function offKeyEvent(event : string, handler?: (args: any) => void) {\r\n  let events = data(global.scene, '_r.e');\r\n  if (events[event]) {\r\n    if (handler) {\r\n      events[event] = events[event].filter(function(_event) {\r\n        if (_event.handler.toString() == handler.toString()) {\r\n          if (_event.action) {\r\n            let index = global.scene.actionManager.actions.indexOf(_event.action);\r\n            global.scene.actionManager.actions.splice(index, 1);\r\n          }\r\n          if (_event.listener) {\r\n            global.scene.removeEventListener(_event, _event.listener);\r\n          }\r\n        }\r\n        return _event.handler.toString() !== handler.toString();\r\n      });\r\n    }\r\n    else {\r\n\r\n      events[event] = [];\r\n    }\r\n  }\r\n}","import { global } from \"../global.js\";\r\nimport { data } from \"../data.js\";\r\nimport { trigger } from \"./core.js\";\r\n\r\nexport const meshes = [\r\n  'OnDoublePickTrigger',\r\n  'OnPickTrigger',\r\n  'OnLeftPickTrigger',\r\n  'OnRightPickTrigger',\r\n  'OnCenterPickTrigger',\r\n  'OnPickDownTrigger',\r\n  'OnPickUpTrigger',\r\n  'OnPickOutTrigger',\r\n  'OnLongPressTrigger',\r\n  'OnPointerOverTrigger',\r\n  'OnPointerOutTrigger'\r\n];\r\n\r\nexport function onMesh(mesh: BABYLON.Mesh, event: string, handler: (args: any) => void, repeat = true) {\r\n  if (!mesh.actionManager) {\r\n    mesh.actionManager = new BABYLON.ActionManager(global.scene);\r\n  }\r\n  let action = new BABYLON.ExecuteCodeAction(BABYLON.ActionManager[event], function(evt) {\r\n    trigger(mesh, event, evt);\r\n  });\r\n\r\n  mesh.actionManager.registerAction(action);\r\n\r\n  let events = data(mesh, \"_r.e\");\r\n  if (!events) {\r\n    data(mesh, \"_r.e\", []);\r\n    events = data(mesh, \"_r.e\");\r\n  }\r\n  if (!events[event]) {\r\n    events[event] = [];\r\n  }\r\n  events[event].push({\r\n    handler: handler,\r\n    repeat: repeat,\r\n    action: action\r\n  });\r\n}\r\n\r\nexport function oneMesh(mesh: BABYLON.Mesh, event: string, handler: (args: any) => void) {\r\n  onMesh(mesh, event, handler, false);\r\n}\r\n\r\nexport function offMesh(mesh: BABYLON.Mesh, event: string, handler?: (args: any) => void) {\r\n  let events = data(mesh, '_r.e');\r\n  if (events && events[event]) {\r\n    if (handler) {\r\n      events[event] = events[event].filter(function(_event) {\r\n        if (_event.handler.toString() == handler.toString()) {\r\n          if (_event.action) {\r\n            let index = mesh.actionManager.actions.indexOf(_event.action);\r\n            mesh.actionManager.actions.splice(index, 1);\r\n          }\r\n          /** ??\r\n          if (_event.listener) {\r\n            mesh.removeEventListener(_event, _event.listener);\r\n          }**/\r\n        }\r\n        return _event.handler.toString() !== handler.toString();\r\n      });\r\n    }\r\n    else {\r\n      events[event] = [];\r\n    }\r\n  }\r\n}","import * as e from \"./core.js\";\r\nimport { keys, offKeyEvent, oneKeyEvent, onKeyEvent } from \"./keys.js\";\r\nimport { onMesh, oneMesh, offMesh, meshes } from \"./meshes.js\";\r\nimport { global } from \"../global.js\";\r\nimport { is } from \"../is.js\";\r\n\r\nexport function on(event: string, handler: (...args: any[]) => void, repeat = true) {\r\n  if (keys.indexOf(event) != -1) {\r\n    onKeyEvent(event, handler, repeat);\r\n  }\r\n  else {\r\n    e.on(this, event, handler, repeat);\r\n  }\r\n}\r\n\r\nexport function off(event: string, handler?: (...args: any[]) => void) {\r\n  if (keys.indexOf(event) != -1) {\r\n    offKeyEvent(event, handler);\r\n  }\r\n  else {\r\n    e.off(this, event, handler);\r\n  }\r\n}\r\n\r\nexport function one(event: string, handler: (...args: any[]) => void) {\r\n  if (keys.indexOf(event) != -1) {\r\n    oneKeyEvent(event, handler);\r\n  }\r\n  else {\r\n    e.one(this, event, handler);\r\n  }\r\n}\r\nexport function trigger(event: string, ...extraParameters: any[]) {\r\n  e.trigger(this, event, ...extraParameters);\r\n}\r\n\r\n/**\r\n * Attach an event handler function for one or more e to the selected elements.\r\n * @param events One or more space-separated event types\r\n * @param handler A handler function previously attached for the event(s)\r\n * @returns {Elements}\r\n */\r\nglobal.fn[\"on\"] = function(events : string, handler : (args : any) => void) {\r\n  this.each(function(item) {\r\n    if (is.Mesh(item) && meshes.indexOf(events) !== -1) {\r\n      onMesh(item, events, handler);\r\n    }\r\n    else {\r\n      e.on(item, events, handler);\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Attach a handler to an event for the elements. The handler is executed at most once per element per event type.\r\n * @param events One or more space-separated event types\r\n * @param handler A handler function previously attached for the event(s)\r\n * @returns {Elements}\r\n */\r\nglobal.fn[\"one\"] = function(events : string, handler : (args : any) => void) {\r\n  this.each(function(item) {\r\n    if (is.Mesh(item) && meshes.indexOf(events) !== -1) {\r\n      oneMesh(item, events, handler);\r\n    }\r\n    else {\r\n      e.one(item, events, handler);\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Remove an event handler that were attached with .on()\r\n * @param events\r\n * @param handler A handler function previously attached for the event(s) or null to remove all handler attached for the event(s)\r\n * @returns {Elements}\r\n */\r\nglobal.fn[\"off\"] = function(events : string, handler? : (args : any) => void) {\r\n  this.each(function(item) {\r\n    if (is.Mesh(item) && meshes.indexOf(events) !== -1) {\r\n      offMesh(item, events, handler);\r\n    }\r\n    else {\r\n      e.off(item, events, handler);\r\n    }\r\n  });\r\n};\r\n/**\r\n * Execute all handlers and behaviors attached to the matched elements for the given event type.\r\n * @param events One or more space-separated event types\r\n * @param extraParameters Additional parameters to pass along to the event handler.\r\n * @returns {Elements}\r\n */\r\nglobal.fn[\"trigger\"] = function(events : string, ...extraParameters : any[]) {\r\n  this.each(function(item) {\r\n    e.trigger(item, events, ...extraParameters);\r\n  });\r\n};","import { is } from '../is.js';\r\n\r\nexport function color(expr: any): BABYLON.Color3 | BABYLON.Color4 {\r\n  if (expr instanceof BABYLON.Color3 || expr instanceof BABYLON.Color4) {\r\n    return expr;\r\n  }\r\n  if (is.HexColor(expr)) {\r\n    return BABYLON.Color3.FromHexString(expr);\r\n  }\r\n  if (is.PlainObject(expr)) {\r\n    if (expr.hasOwnProperty(\"r\") || expr.hasOwnProperty(\"g\") || expr.hasOwnProperty(\"b\") || expr.hasOwnProperty(\"a\")) {\r\n      let r = expr[\"r\"] || 0;\r\n      let g = expr[\"g\"] || 0;\r\n      let b = expr[\"b\"] || 0;\r\n      if (expr[\"a\"]) {\r\n        return new BABYLON.Color4(r, g, b, expr[\"a\"]);\r\n      } else {\r\n        return new BABYLON.Color3(r, g, b);\r\n      }\r\n    } else {\r\n      console.error(\"_r.to.Color - invalid color : \", expr);\r\n      return new BABYLON.Color3(0, 0, 0);\r\n    }\r\n  }\r\n  if (is.Array(expr)) {\r\n    if (expr.length == 3) {\r\n      return BABYLON.Color3.FromArray(expr);\r\n    }\r\n    if (expr.length == 4) {\r\n      return BABYLON.Color4.FromArray(expr);\r\n    }\r\n    console.error(\"_r.to.Color - invalid color : \", expr);\r\n    return new BABYLON.Color3(0, 0, 0);\r\n  }\r\n  if (is.String(expr)) {\r\n    expr = expr.trim().toLocaleLowerCase();\r\n    if (expr.indexOf('rgb(') == 0) {\r\n      var rgb = expr.substring(expr.indexOf('(') + 1, expr.lastIndexOf(')')).split(/,\\s*/);\r\n\r\n      let r = parseFloat(rgb[0]);\r\n      let g = parseFloat(rgb[1]);\r\n      let b = parseFloat(rgb[2]);\r\n      return new BABYLON.Color3(!isNaN(r) ? (r / 255) : 0, !isNaN(g) ? (g / 255) : 0, !isNaN(b) ? (b / 255) : 0);\r\n    } else {\r\n      if (expr.indexOf('rgba(') == 0) {\r\n        var rgba = expr.substring(expr.indexOf('(') + 1, expr.lastIndexOf(')')).split(/,\\s*/);\r\n        let r = parseFloat(rgba[0]);\r\n        let g = parseFloat(rgba[1]);\r\n        let b = parseFloat(rgba[2]);\r\n        let a = parseFloat(rgba[3]);\r\n        return new BABYLON.Color4(!isNaN(r) ? (r / 255) : 0, !isNaN(g) ? (g / 255) : 0, !isNaN(b) ? (b / 255) : 0, !isNaN(a) ? (a / 255) : 0);\r\n      } else {\r\n        switch (expr) {\r\n          case 'red' :\r\n            return BABYLON.Color3.Red();\r\n          case 'green' :\r\n            return BABYLON.Color3.Green();\r\n          case 'blue' :\r\n            return BABYLON.Color3.Blue();\r\n          case 'black' :\r\n            return BABYLON.Color3.Black();\r\n          case 'white' :\r\n            return BABYLON.Color3.White();\r\n          case 'purple' :\r\n            return BABYLON.Color3.Purple();\r\n          case 'magenta' :\r\n          case 'pink' :\r\n            return BABYLON.Color3.Magenta();\r\n          case 'yellow' :\r\n            return BABYLON.Color3.Yellow();\r\n          case 'teal' :\r\n          case 'cyan' :\r\n            return BABYLON.Color3.Teal();\r\n          case 'gray' :\r\n          case 'grey' :\r\n            return BABYLON.Color3.Gray();\r\n          case 'random':\r\n            return BABYLON.Color3.Random();\r\n          default :\r\n            console.error(\"_r.to.Color - invalid color : \", expr);\r\n            return new BABYLON.Color3(0, 0, 0);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function color4(expr: any) : BABYLON.Color4 {\r\n  let _color = color(expr);\r\n  return new BABYLON.Color4(_color.r, _color.g, _color.b, 1);\r\n}","import { is } from \"./is.js\";\r\nimport { select } from \"./select.js\";\r\nimport { extend } from \"./util/extend.js\";\r\nimport { color } from \"./util/color.js\";\r\nimport { patch } from \"./patch.js\";\r\nimport { global } from \"./global.js\";\r\n\r\nfunction getEasingFunction(easing: string): BABYLON.EasingFunction {\r\n  let mode;\r\n  // rtec\r\n  let func;\r\n  if (easing.indexOf(\"easeInOut\") != -1) {\r\n    mode = BABYLON.EasingFunction.EASINGMODE_EASEINOUT;\r\n    func = easing.replace(\"easeInOut\", \"\");\r\n  } else {\r\n    if (easing.indexOf(\"easeIn\") != -1) {\r\n      mode = BABYLON.EasingFunction.EASINGMODE_EASEIN;\r\n      func = easing.replace(\"easeIn\", \"\");\r\n    } else {\r\n      if (easing.indexOf(\"easeOut\") != -1) {\r\n        mode = BABYLON.EasingFunction.EASINGMODE_EASEOUT;\r\n        func = easing.replace(\"easeOut\", \"\");\r\n      } else {\r\n        console.info(\"_r::unrecognized easing function \" + easing);\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n  let easingFunction;\r\n  switch (func) {\r\n    case \"Sine\":\r\n      easingFunction = new BABYLON.SineEase();\r\n      easingFunction.setEasingMode(mode);\r\n      return easingFunction;\r\n    case \"Quad\":\r\n      easingFunction = new BABYLON.QuadraticEase();\r\n      easingFunction.setEasingMode(mode);\r\n      return easingFunction;\r\n    case \"Cubic\":\r\n      easingFunction = new BABYLON.CubicEase();\r\n      easingFunction.setEasingMode(mode);\r\n      return easingFunction;\r\n    case \"Quart\":\r\n      easingFunction = new BABYLON.QuarticEase();\r\n      easingFunction.setEasingMode(mode);\r\n      return easingFunction;\r\n    case \"Quint\":\r\n      easingFunction = new BABYLON.QuinticEase();\r\n      easingFunction.setEasingMode(mode);\r\n      return easingFunction;\r\n    case \"Expo\" :\r\n      easingFunction = new BABYLON.ExponentialEase();\r\n      easingFunction.setEasingMode(mode);\r\n      return easingFunction;\r\n    case \"Circ\":\r\n      easingFunction = new BABYLON.CircleEase();\r\n      easingFunction.setEasingMode(mode);\r\n      return easingFunction;\r\n    case \"Back\":\r\n      easingFunction = new BABYLON.BackEase();\r\n      easingFunction.setEasingMode(mode);\r\n      return easingFunction;\r\n    case \"Elastic\":\r\n      easingFunction = new BABYLON.ElasticEase();\r\n      easingFunction.setEasingMode(mode);\r\n      return easingFunction;\r\n    case \"Bounce\":\r\n      easingFunction = new BABYLON.BounceEase();\r\n      easingFunction.setEasingMode(mode);\r\n      return easingFunction;\r\n    default:\r\n      console.warn(\"_r::unrecognized easing function \" + easing);\r\n      return null;\r\n  }\r\n}\r\n\r\nfunction getLoopMode(options : IAnimationOptions): number {\r\n  if (is.Boolean(options.loop)) {\r\n    if (options.loop) {\r\n      return BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT;\r\n    }\r\n  }\r\n  if (is.String(options.loop)) {\r\n    if ((<string> options.loop).toLowerCase() == \"cycle\") {\r\n      return BABYLON.Animation.ANIMATIONLOOPMODE_CYCLE;\r\n    }\r\n    if ((<string>options.loop).toLocaleLowerCase() == \"relative\" || (<string>this.loop).toLocaleLowerCase() == \"pingpong\") {\r\n      return BABYLON.Animation.ANIMATIONLOOPMODE_RELATIVE;\r\n    }\r\n  } else {\r\n    if (is.Number(options.loop)) {\r\n      return <number>options.loop;\r\n    }\r\n  }\r\n  return BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT;\r\n}\r\n\r\nfunction getAnimationType(element, property) : number {\r\n  if (is.Vector2(element[property])) {\r\n    return BABYLON.Animation.ANIMATIONTYPE_VECTOR2;\r\n  }\r\n  if (is.Vector3(element[property])) {\r\n    return BABYLON.Animation.ANIMATIONTYPE_VECTOR3;\r\n  }\r\n  if (is.Number(element[property])) {\r\n    return BABYLON.Animation.ANIMATIONTYPE_FLOAT;\r\n  }\r\n  if (is.Color(element[property])) {\r\n    return BABYLON.Animation.ANIMATIONTYPE_COLOR3;\r\n  }\r\n  if (is.Quaternion(element[property])) {\r\n    return BABYLON.Animation.ANIMATIONTYPE_QUATERNION;\r\n  }\r\n  if (is.Matrix(element[property])) {\r\n    return BABYLON.Animation.ANIMATIONTYPE_MATRIX;\r\n  }\r\n  if (is.Size(element[property])) {\r\n    return BABYLON.Animation.ANIMATIONTYPE_SIZE;\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction isAnimatable(element, property) {\r\n  return getAnimationType(element, property) !== null;\r\n}\r\n\r\nfunction getKeys(element, property, newValue, options) {\r\n  if (options.keys) {\r\n    return options.keys;\r\n  }\r\n  let initial = element[property];\r\n  let final;\r\n  switch (getAnimationType(element, property)) {\r\n    case BABYLON.Animation.ANIMATIONTYPE_COLOR3:\r\n      final = initial.clone();\r\n      patch(final, color(newValue));\r\n      break;\r\n    case BABYLON.Animation.ANIMATIONTYPE_FLOAT:\r\n      final = newValue;\r\n      break;\r\n    case BABYLON.Animation.ANIMATIONTYPE_MATRIX:\r\n      final = initial.clone();\r\n      patch(final, newValue);\r\n      break;\r\n    default:\r\n      final = initial.clone();\r\n      let properties = Object.getOwnPropertyNames(newValue);\r\n      properties.forEach((property) => {\r\n        final[property] = newValue[property];\r\n      });\r\n      break;\r\n  }\r\n  return [\r\n    {\r\n      frame: 0,\r\n      value: initial\r\n    },\r\n    {\r\n      frame: options.fps * options.duration,\r\n      value: final\r\n    }\r\n  ];\r\n}\r\n\r\nfunction getAnimationsForElement(element : any, patch : any, options : IAnimationOptions) : Array<BABYLON.Animation> {\r\n  let animations = [];\r\n  let properties = Object.getOwnPropertyNames(patch);\r\n  if (!element.animations) {\r\n    element.animations = [];\r\n  }\r\n  properties.forEach((property) => {\r\n    if (!isAnimatable(element, property)) {\r\n      console.error(property + \" is not animatable\");\r\n    }\r\n    else {\r\n      let animation = new BABYLON.Animation(\"_r.animation\" + element.animations.length, property, options.fps, getAnimationType(element, property), getLoopMode(options));\r\n      let keys = getKeys(element, property, patch[property], options);\r\n      animation.setKeys(keys);\r\n      if (options.easing) {\r\n        animation.setEasingFunction(getEasingFunction(options.easing));\r\n      }\r\n      // element.animations.push(animation);\r\n      animations.push(animation);\r\n    }\r\n  });\r\n  return animations;\r\n}\r\n\r\nfunction findSomethingToAnimate(element : any, patch : any) {\r\n  let properties = Object.getOwnPropertyNames(patch);\r\n  let animatables = [];\r\n  properties.forEach((property) => {\r\n    if (isAnimatable(element, property)) {\r\n      animatables.push({\r\n        element : element,\r\n        property : property,\r\n        patch : patch[property]\r\n      });\r\n    }\r\n    else {\r\n      if (!is.Primitive(patch[property])) {\r\n        let _animatables = findSomethingToAnimate(element[property], patch[property]);\r\n        animatables = animatables.concat(_animatables);\r\n      }\r\n      else {\r\n        return [];\r\n      }\r\n    }\r\n  });\r\n  return animatables;\r\n}\r\n\r\nexport interface IAnimationOptions {\r\n  fps?: number;\r\n  duration?: number;\r\n  speedRatio?: number;\r\n  from?: number;\r\n  to?: number;\r\n  loop?: boolean | string | number;\r\n  easing?: string;\r\n  complete?: () => void;\r\n  keys? : [];\r\n}\r\n\r\nconst defaultOptions = {\r\n  fps : 30,\r\n  duration : 0.4,\r\n  speedRatio : 1,\r\n  loopMode : false\r\n};\r\n\r\nfunction getOptions(options? : number | IAnimationOptions) {\r\n  let _options : IAnimationOptions = {};\r\n  if (!options) {\r\n    options = 0.4;\r\n  }\r\n  if (is.Number(options)) {\r\n    _options.duration = <number> options;\r\n    _options.loop = false;\r\n  }\r\n  else {\r\n    _options = <IAnimationOptions> options;\r\n    if (_options.loop) {\r\n      if (is.Boolean(_options.loop) && _options.loop) {\r\n        _options.loop = 'cycle';\r\n      }\r\n    }\r\n    else {\r\n      _options.loop = false;\r\n    }\r\n  }\r\n  _options = extend({}, defaultOptions, _options);\r\n  return _options;\r\n}\r\n\r\nlet count = 0;\r\n\r\nexport function animate(elements : any, patch : any, options? : number | IAnimationOptions) : BABYLON.AnimationGroup {\r\n  let _elements = select(elements);\r\n  let _options  = getOptions(options);\r\n  let group = new BABYLON.AnimationGroup(\"_r.animate.AnimationsGroup\" + count++);\r\n  _elements.each((item) => {\r\n    let _animatables = findSomethingToAnimate(item, patch);\r\n    _animatables.forEach((animatable) => {\r\n      let _element = animatable.element;\r\n      let _patch = {};\r\n      _patch[animatable.property] = animatable.patch;\r\n      let animations = getAnimationsForElement(_element, _patch, _options);\r\n      animations.forEach((animation) => {\r\n        group.addTargetedAnimation(animation, _element);\r\n      });\r\n    });\r\n  });\r\n  group.speedRatio = _options.speedRatio;\r\n  if (_options.complete) {\r\n    group.onAnimationGroupEndObservable.add(_options.complete);\r\n  }\r\n  group.onAnimationEndObservable.add((targetedAnimation) => {\r\n    let index = targetedAnimation.target.animations.indexOf(targetedAnimation.animation);\r\n    targetedAnimation.target.animations = targetedAnimation.target.animations.splice(index, 1);\r\n  });\r\n  if (_options.loop != false) {\r\n    group.play(true);\r\n  }\r\n  else {\r\n    group.play();\r\n  }\r\n\r\n  return group;\r\n}\r\n\r\nglobal.fn[\"animate\"] = function(patch : any, options? : number | IAnimationOptions) {\r\n  return animate(this.toArray(), patch, options);\r\n};\r\n\r\nglobal.fn[\"fadeOut\"] = function(options? : number | IAnimationOptions) {\r\n  let _options  = getOptions(options);\r\n  let group = new BABYLON.AnimationGroup(\"_r.animate.AnimationsGroup\" + count++);\r\n  this.each((item) => {\r\n    let animations = [];\r\n    if (is.Mesh(item)) {\r\n      animations = getAnimationsForElement(item, {\r\n        visibility : 0\r\n      }, _options);\r\n    }\r\n    if (is.Material(item)) {\r\n      animations = getAnimationsForElement(item, {\r\n        alpha : 0\r\n      }, _options);\r\n    }\r\n    if (is.Texture(item)) {\r\n      animations = getAnimationsForElement(item, {\r\n        level : 0\r\n      }, _options);\r\n    }\r\n    if (is.Light(item)) {\r\n      animations = getAnimationsForElement(item, {\r\n        intensity : 0\r\n      }, _options);\r\n    }\r\n    animations.forEach((animation) => {\r\n      group.addTargetedAnimation(animation, item);\r\n    });\r\n  });\r\n  group.speedRatio = _options.speedRatio;\r\n  if (_options.complete) {\r\n    group.onAnimationGroupEndObservable.add(_options.complete);\r\n  }\r\n  group.play();\r\n  return group;\r\n};\r\n\r\nglobal.fn[\"fadeIn\"] = function(options?) {\r\n  let _options  = getOptions(options);\r\n  let group = new BABYLON.AnimationGroup(\"_r.animate.AnimationsGroup\" + count++);\r\n  this.each((item) => {\r\n    let animations = [];\r\n    if (is.Mesh(item)) {\r\n      animations = getAnimationsForElement(item, {\r\n        visibility : 1\r\n      }, _options);\r\n    }\r\n    if (is.Material(item)) {\r\n      animations = getAnimationsForElement(item, {\r\n        alpha : 1\r\n      }, _options);\r\n    }\r\n    if (is.Texture(item)) {\r\n      animations = getAnimationsForElement(item, {\r\n        level : 1\r\n      }, _options);\r\n    }\r\n    if (is.Light(item)) {\r\n      animations = getAnimationsForElement(item, {\r\n        intensity : 1\r\n      }, _options);\r\n    }\r\n    animations.forEach((animation) => {\r\n      group.addTargetedAnimation(animation, item);\r\n    });\r\n  });\r\n  group.speedRatio = _options.speedRatio;\r\n  if (_options.complete) {\r\n    group.onAnimationGroupEndObservable.add(_options.complete);\r\n  }\r\n  group.play();\r\n  return group;\r\n};\r\n\r\n/**\r\n * Stop the currently-running animation, remove all queued animations, and complete all animations for the matched elements.\r\n */\r\nglobal.fn[\"finish\"] = function() {\r\n  this.each((item) => {\r\n    let animatables = global.scene.getAllAnimatablesByTarget(item);\r\n    animatables.forEach((animatable) => {\r\n      animatable.stop();\r\n    });\r\n    item.animations = [];\r\n  });\r\n};","import { global } from \"../global.js\";\r\nimport { data } from \"../data.js\";\r\nimport { select } from \"../select.js\";\r\nimport { is } from \"../is.js\";\r\nimport { color } from \"../util/color.js\";\r\n\r\n// from https://doc.babylonjs.com/snippets/normals\r\nfunction showMeshNormals(mesh, size, _color) {\r\n  hideMeshNormals(mesh);\r\n  let normals = mesh.getVerticesData(BABYLON.VertexBuffer.NormalKind);\r\n  let positions = mesh.getVerticesData(BABYLON.VertexBuffer.PositionKind);\r\n  _color = color(_color);\r\n  size = size || 1;\r\n\r\n  let lines = [];\r\n  for (var i = 0; i < normals.length; i += 3) {\r\n    var v1 = BABYLON.Vector3.FromArray(positions, i);\r\n    var v2 = v1.add(BABYLON.Vector3.FromArray(normals, i).scaleInPlace(size));\r\n    lines.push([v1.add(mesh.position), v2.add(mesh.position)]);\r\n  }\r\n  var normalLines = BABYLON.MeshBuilder.CreateLineSystem(\"_r.normals.\" + mesh.uniqueId, {lines: lines}, global.scene);\r\n  normalLines.color = _color;\r\n  data(mesh, '_r.normals', normalLines);\r\n  return normalLines;\r\n}\r\n\r\nfunction hideMeshNormals(mesh) {\r\n  let normalLines = data(mesh, '_r.normals');\r\n  if (normalLines) {\r\n    normalLines.dispose();\r\n  }\r\n}\r\n\r\nexport function showNormals(selector? : string, size = 1, color = \"red\") {\r\n  if (selector) {\r\n    select(selector).each((item) => {\r\n      if (is.Mesh(item)) {\r\n        showMeshNormals(item, size, color);\r\n      }\r\n    });\r\n  }\r\n  else {\r\n    global.scene.meshes.forEach((mesh) => {\r\n      showMeshNormals(mesh, size, color);\r\n    });\r\n  }\r\n}\r\n\r\nexport function hideNormals(selector? : string) {\r\n  if (selector) {\r\n    select(selector).each((item) => {\r\n      if (is.Mesh(item)) {\r\n        hideMeshNormals(item);\r\n      }\r\n    });\r\n  }\r\n  else {\r\n    global.scene.meshes.forEach((mesh) => {\r\n      hideMeshNormals(mesh);\r\n    });\r\n  }\r\n}","import { select } from \"../select.js\";\r\nimport { is } from \"../is.js\";\r\nimport { global } from \"../global.js\";\r\nimport { color } from \"../util/color.js\";\r\n\r\nfunction showMeshWireframe(mesh, epsilon, width , color) {\r\n  if (mesh.edgesRenderer == undefined) {\r\n    mesh.enableEdgesRendering(epsilon);\r\n    mesh.edgesColor = color;\r\n    mesh.edgesWidth = width;\r\n  } else {\r\n    mesh.enableEdgesRendering(epsilon);\r\n    mesh.edgesColor = color;\r\n    mesh.edgesWidth = width;\r\n    mesh.edgesRenderer.isEnabled = true;\r\n  }\r\n}\r\n\r\nfunction hideMeshWireframe(mesh) {\r\n  if (mesh.edgesRenderer) {\r\n    mesh.edgesRenderer.isEnabled = false;\r\n  }\r\n}\r\n\r\nexport function showWireframe(selector? : string,  epsilon = 1, width = 1, _color =  new BABYLON.Color4(130 / 255, 230 / 255, 1, 0.85)) {\r\n  if (selector) {\r\n    select(selector).each((item) => {\r\n      if (is.Mesh(item)) {\r\n        showMeshWireframe(item, epsilon, width, color(_color));\r\n      }\r\n    });\r\n  }\r\n  else {\r\n    global.scene.meshes.forEach((mesh) => {\r\n      showMeshWireframe(mesh, epsilon, width, color(_color));\r\n    });\r\n  }\r\n}\r\n\r\nexport function hideWireframe(selector? : string) {\r\n  if (selector) {\r\n    select(selector).each((item) => {\r\n      if (is.Mesh(item)) {\r\n        hideMeshWireframe(item);\r\n      }\r\n    });\r\n  }\r\n  else {\r\n    global.scene.meshes.forEach((mesh) => {\r\n      hideMeshWireframe(mesh);\r\n    });\r\n  }\r\n}","import { select } from \"../select.js\";\r\nimport { is } from \"../is.js\";\r\nimport { global } from \"../global.js\";\r\n\r\n// Create utility layer the gizmo will be rendered on\r\nlet utilLayer;\r\n\r\nfunction initUtilLayer() {\r\n    if (!utilLayer) {\r\n        utilLayer = new BABYLON.UtilityLayerRenderer(global.scene);\r\n    }\r\n}\r\n\r\nfunction showMeshGizmo(mesh: BABYLON.Mesh, gizmoType?: string, axis?: string, color?: BABYLON.Color3) : BABYLON.Gizmo {\r\n    let gizmo;\r\n    gizmoType = (typeof gizmoType === 'string') ? gizmoType.toLowerCase() : gizmoType;\r\n    axis = (typeof axis === 'string') ? axis.toLowerCase() : axis;\r\n    hideMeshGizmo(mesh);\r\n    switch (gizmoType) {\r\n        case 'position':\r\n            gizmo = new BABYLON.PositionGizmo(utilLayer);\r\n            break;\r\n        case 'rotation':\r\n            gizmo = new BABYLON.RotationGizmo(utilLayer);\r\n            break;\r\n        case 'scale':\r\n            gizmo = new BABYLON.ScaleGizmo(utilLayer);\r\n            break;\r\n        case 'boundingbox':\r\n        default:\r\n            gizmo = new BABYLON.BoundingBoxGizmo(color, utilLayer);\r\n            break;\r\n    }\r\n    gizmo.attachedMesh = mesh;\r\n    if (axis && gizmo.xGizmo) {\r\n        console.info('_r : gizmo axis works only with BABYLON > 4.0.3, actual is: ' + BABYLON.Engine.Version);\r\n        gizmo.xGizmo.isEnabled = axis.indexOf('x') !== -1;\r\n        gizmo.yGizmo.isEnabled = axis.indexOf('y') !== -1;\r\n        gizmo.zGizmo.isEnabled = axis.indexOf('z') !== -1;\r\n        // Keep the gizmo fixed to world rotation\r\n        gizmo.updateGizmoRotationToMatchAttachedMesh = false;\r\n        gizmo.updateGizmoPositionToMatchAttachedMesh = true;\r\n    }\r\n    select(mesh).data('runtime-gizmo', gizmo);\r\n    return gizmo;\r\n}\r\n\r\nfunction hideMeshGizmo(mesh: BABYLON.Mesh) {\r\n    let gizmo = select(mesh).data('runtime-gizmo');\r\n    if (gizmo) {\r\n        gizmo.dispose();\r\n        select(mesh).data('runtime-gizmo', null);\r\n    }\r\n}\r\n\r\nexport function showGizmo(selector? : string, gizmoType?: string, axis?: string, _color =  new BABYLON.Color3(130 / 255, 230 / 255, 1)) : BABYLON.Gizmo[] {\r\n    let result = [];\r\n    initUtilLayer();\r\n    if (selector) {\r\n        select(selector).each((item) => {\r\n            if (is.Mesh(item)) {\r\n                result.push(showMeshGizmo(item, gizmoType, axis, _color));\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        global.scene.meshes.forEach((mesh) => {\r\n            result.push(showMeshGizmo(mesh, gizmoType, axis, _color));\r\n        });\r\n    }\r\n    return result;\r\n}\r\n\r\nexport function hideGizmo(selector? : string) {\r\n    if (selector) {\r\n        select(selector).each((item) => {\r\n            if (is.Mesh(item)) {\r\n                hideMeshGizmo(item);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        global.scene.meshes.forEach((mesh) => {\r\n            hideMeshGizmo(mesh);\r\n        });\r\n    }\r\n}\r\n","import { showNormals, hideNormals } from \"./normals.js\";\r\nimport { showWireframe, hideWireframe } from \"./wireframe.js\";\r\nimport { showGizmo, hideGizmo } from \"./gizmo.js\";\r\n\r\nexport function show(params : string, selector? : string) {\r\n  let split = params.split(',');\r\n  split.forEach((param) => {\r\n    switch (param.trim()) {\r\n      case \"normals\" :\r\n        showNormals(selector);\r\n        break;\r\n      case \"wireframe\":\r\n        showWireframe(selector);\r\n        break;\r\n      case \"gizmo\":\r\n        showGizmo(selector);\r\n        break;\r\n      default:\r\n        console.error(param + \" is not supported by _r.show\");\r\n    }\r\n  });\r\n}\r\n\r\nexport function hide(params : string, selector? : string) {\r\n  let split = params.split(',');\r\n  split.forEach((param) => {\r\n    switch (param.trim()) {\r\n      case \"normals\" :\r\n        hideNormals(selector);\r\n        break;\r\n      case \"wireframe\":\r\n        hideWireframe(selector);\r\n        break;\r\n      case \"gizmo\":\r\n        hideGizmo(selector);\r\n        break;\r\n      default :\r\n        console.error(param + \" is not supported by _r.hide\");\r\n    }\r\n  });\r\n}\r\n\r\nexport namespace show {\r\n  export let normals = showNormals;\r\n  export let wireframe = showWireframe;\r\n  export let gizmo = showGizmo;\r\n}\r\n\r\nexport namespace hide{\r\n  export let normals = hideNormals;\r\n  export let wireframe = hideWireframe;\r\n  export let gizmo = hideGizmo;\r\n}\r\n","import { global } from \"../global.js\";\r\n\r\nexport class loadingScreen {\r\n  static show() {\r\n    global.engine.displayLoadingUI();\r\n  }\r\n  static hide() {\r\n    global.engine.hideLoadingUI();\r\n  }\r\n  static get text() : string {\r\n    return global.engine.text;\r\n  }\r\n  static set text(value : string) {\r\n    global.engine.text = value;\r\n  }\r\n  static get backgroundColor() : string {\r\n    return  global.engine.loadingUIBackgroundColor;\r\n  }\r\n  static set backgroundColor(value : string) {\r\n    global.engine.loadingUIBackgroundColor = value;\r\n  }\r\n}","import { off, on, one, trigger } from \"../events/core.js\";\r\nimport { is } from \"../is.js\";\r\n\r\nexport let router = {\r\n  hashChangedListener : [],\r\n  set : function(hash : string) {\r\n    window.removeEventListener(\"hashchange\", hashChangeListener);\r\n    window.location.hash = hash;\r\n    this.trigger(hash);\r\n    window.addEventListener(\"hashchange\", hashChangeListener);\r\n  },\r\n  get : function() {\r\n    if (window.location.hash.length > 1) {\r\n      return window.location.hash.substr(1);\r\n    }\r\n  },\r\n  on : function(event: string | Function, handler?: (...args: any[]) => void, repeat = true) {\r\n    if (is.Function(event)) {\r\n      this.hashChangedListener.push(event);\r\n    }\r\n    else {\r\n      on(this, <string> event, handler, repeat);\r\n    }\r\n  },\r\n  off : function(event: string, handler?: (...args: any[]) => void) {\r\n    off(this, event, handler);\r\n  },\r\n  one : function(event: string, handler: (...args: any[]) => void) {\r\n    one(this, event, handler);\r\n  },\r\n  trigger : function(event: string, extraParameters?: any) {\r\n    if (!this.pause) {\r\n      this.hashChangedListener.forEach((listener) => {\r\n        listener(event);\r\n      });\r\n      trigger(this, event, extraParameters);\r\n    }\r\n  },\r\n  pause : false\r\n};\r\n\r\nfunction hashChangeListener(evt) {\r\n  router.trigger(router.get());\r\n}\r\n\r\nwindow.addEventListener(\"hashchange\", hashChangeListener);","import { patch } from \"../patch.js\";\r\nimport { color } from \"../util/color.js\";\r\n\r\npatch.registerPlugin({\r\n  test(element, source, property) : boolean {\r\n    return element[property] instanceof BABYLON.Color3 || element[property] instanceof BABYLON.Color4;\r\n  },\r\n  resolve(element, source, property) {\r\n    return color(source[property]);\r\n  }\r\n});\r\n","import { patch, patchElements, patchElement } from \"../patch.js\";\r\nimport { is } from \"../is.js\";\r\n\r\npatch.registerPlugin({\r\n  test(element, source, property) : boolean {\r\n    return property.trim() === \"*\";\r\n  },\r\n  resolve(element, source, property) {\r\n    if (is.MultiMaterial(element)) {\r\n      return patchElements(element.subMaterials, source[property], element);\r\n    }\r\n    else {\r\n      if (is.Array(element)) {\r\n        return patchElements(element, source[property]);\r\n      }\r\n      else {\r\n        return patchElement(element, source[property]);\r\n      }\r\n    }\r\n  }\r\n});\r\n","import { queryString } from \"./util/queryString.js\";\r\nimport { global } from \"./global.js\";\r\nimport { is } from \"./is.js\";\r\nimport { launch, ready } from \"./launch.js\";\r\nimport { start, pause } from \"./renderLoop.js\";\r\nimport { downloadScene, downloadTexture, downloadCubeTexture } from \"./download.js\";\r\nimport { createLibrary, library } from \"./library.js\";\r\nimport { select } from \"./select.js\";\r\nimport { data } from \"./data.js\";\r\nimport { on, off, one, trigger } from \"./events/index.js\";\r\nimport { patch } from \"./patch.js\";\r\nimport { match } from \"./Elements.js\";\r\nimport { color, color4 } from './util/color.js';\r\nimport { animate } from \"./animate.js\";\r\nimport { activateCamera } from \"./activateCamera.js\";\r\nimport { show, hide } from \"./show.hide/index.js\";\r\nimport { loadingScreen } from \"./util/loadingScreen.js\";\r\nimport { router } from \"./util/router.js\";\r\nimport \"./patch.plugins/index.js\";\r\n\r\nexport default {\r\n    get canvas() {\r\n        return global.canvas;\r\n    },\r\n    set canvas(value) {\r\n        global.canvas = value;\r\n    },\r\n    get scene() {\r\n        return global.scene;\r\n    },\r\n    set scene(value) {\r\n        global.scene = value;\r\n    },\r\n    get engine() {\r\n        return global.engine;\r\n    },\r\n    set engine(value) {\r\n        global.engine = value;\r\n    },\r\n    get TRACE() {\r\n        return global.TRACE;\r\n    },\r\n    set TRACE(value) {\r\n        global.TRACE = value;\r\n    },\r\n    activateCamera : activateCamera,\r\n    launch : launch,\r\n    ready : ready,\r\n    start : start,\r\n    pause : pause,\r\n    downloadScene : downloadScene,\r\n    downloadTexture : downloadTexture,\r\n    downloadCubeTexture : downloadCubeTexture,\r\n    createLibrary : createLibrary,\r\n    library : library,\r\n    data : data,\r\n    on : on,\r\n    off : off,\r\n    one : one,\r\n    trigger : trigger,\r\n    select : select,\r\n    patch : patch,\r\n    match : match,\r\n    is : is,\r\n    color : color,\r\n    color4 : color4,\r\n    animate : animate,\r\n    activeCamera : activateCamera,\r\n    fn : global.fn,\r\n    queryString : queryString,\r\n    router : router,\r\n    show : show,\r\n    hide : hide,\r\n    loadingScreen : loadingScreen\r\n};"],"names":["undefined","start","loop","on","e.on","off","e.off","one","e.one","trigger","e.trigger"],"mappings":"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"}